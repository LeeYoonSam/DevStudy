# Library
- [Dagger Hilt Koin 비교](#dagger-hilt-koin-비교)

---

## [Dagger, Hilt, Koin 비교](https://ichi.pro/ko/dagger-hilt-mich-koin-eun-hudeu-alaeeseo-eotteohge-daleungayo-215221250120151)

### Hilt
- 내부적으로 Dagger 를 사용하므로 Dagger 의 모든 내용은 Hilt 에도 적용 된다. 
- Hilt 는 사용을 단순화하고 작성해야하는 상용구 코드의 수를 줄이는 몇 가지 추가 클래스가 생성된다.

### Dagger
- 클래스의 인스턴스를 제공하기 위해 `@Inject` 어노테이션만 추가하면 된다.
- `@Inject` 어노테이션을 추가하게 되면 빌드시 Class_Factory 형태로 해당 클래스의 팩토리를 생성한다.
- 이 팩토리 클래스는 인스턴스를 만드는데 필요한 모든 정보가 포함되어 있다.
- 이것은 실제로 `Provider<T>` 클래스가 구현하는 인터페이스에 지정된 메서드다. 다른 클래스는 `Provider<T>` 인터페이스를 사용하여 클래스의 인스턴스를 얻을 수 있다.

### Koin
- Kotlin 개발 환경에 쉽게 적용할 수 있는 경량화된 DI 프레임워크. Kotlin 개발 환경에서 도입하기에 가장 가볍고 빠르게 적용할 방법이라 생각한다. 
- 종속성을 등록하기 위해 Koin은 코드를 생성하지 않으므로 어노테이션을 사용하지 않는다.
- 프로젝트에 필요한 각 클래스의 인스턴스를 만드는데 사용할 팩토리를 모듈에게 제공해야 한다.
- 이러한 팩토리에 `InstanceRegistry`에 대한 참조는 우리가 작성한 모든 팩토리에 대한 참조를 포함하는 클래스에 추가 된다.
- instances 맵의 키는 명명 된 매개 변수를 사용하는 경우 제공 한 클래스의 전체 이름이고, 값은 클래스의 인스턴스를 만드는데 사용되는 작성항 팩토리다.
- 의존성을 얻기 위해 `get()` 호출 `by inject()` 하거나 내부에서 `get()` 은 `by lazy` 로 호출하는 액티비티나 프레그먼트에서 위임 된 속성을 호출 하는 것이다.

### 여러가지 비교
1. 오류 처리
    - Dagger: `컴파일 타임 빌드`, 컴파일 시간 의존성 주입 프레임워크, 코드를 잘못 입력하거나 실수가 발생하면 `빌드 실패`
    - Koin: `런타임 빌드`, 클래스에 대한 팩토리를 추가하는 것을 잊은 경우 코드를 생성하지 않기 때문에 앱이 빌드되지만 이 클래스의 인스턴스를 요청하면 충돌이 발생, 그러므로 나중에 추가 화면에서 또는 사용자가 특정 작업을 수행 할 때도 발생 할 수 있다.

2. 빌드 시간
    - Dagger: Annotation 프로세서를 사용하여 코드를 스캔하고 적절한 클래스를 생성해야 하므로 시간이 걸리고 빌드 속도가 느려질 수 있다.
    - Koin: 어떤 코드도 생성하지 않는다는 장점이 있어서 빌드 시간에 미치는 영향이 훨씬 적다.

3. 런타임 성능에 미치는 영향
    - Dagger: 컴파일 타임에 종속성을 해결하기 때문에 런타입 성능에 거의 영향을 미치지 않는다.
    - Koin: 런타임에 종속성을 해결 하기 때문에 런타임 성능이 약간 떨어진다.