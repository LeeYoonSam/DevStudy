# ê³ ìœ  í¬ê¸° ì¸¡ì • (Intrinsic Measurements)

## ê°œìš”

`MeasurePolicy`ì—ëŠ” **ë ˆì´ì•„ì›ƒì˜ ê³ ìœ  í¬ê¸°ë¥¼ ê³„ì‚°í•˜ëŠ” ëª‡ ê°€ì§€ ë©”ì„œë“œ**ê°€ í¬í•¨ë˜ì–´ ìˆìŠµë‹ˆë‹¤. **ê³ ìœ  í¬ê¸°(Intrinsic Size)** ë€, **ì œì•½ ì¡°ê±´ì´ ì—†ì„ ë•Œ ë ˆì´ì•„ì›ƒì˜ ì¶”ì • í¬ê¸°**ë¥¼ ì˜ë¯¸í•©ë‹ˆë‹¤.

## ê³ ìœ  í¬ê¸° ì¸¡ì •ì´ í•„ìš”í•œ ì´ìœ 

### ë¬¸ì œ ìƒí™©

ê³ ìœ  í¬ê¸° ì¸¡ì •ì€ **ì¸¡ì •(measure) ë‹¨ê³„ ì´ì „ì— ìì‹ì˜ ì¶”ì • í¬ê¸°ë¥¼ ì•Œì•„ì•¼ í•  ë•Œ** ìœ ìš©í•©ë‹ˆë‹¤. 

ì˜ˆë¥¼ ë“¤ì–´, ë‹¤ìŒê³¼ ê°™ì€ ìƒí™©ì„ ìƒê°í•´ë³¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤:
- ìì‹ì˜ ë†’ì´ë¥¼ **ê°€ì¥ í‚¤ê°€ í° í˜•ì œì˜ ë†’ì´ì™€ ì¼ì¹˜**ì‹œí‚¤ê³  ì‹¶ì€ ê²½ìš°
- ì¸¡ì • ë‹¨ê³„ì—ì„œ í˜•ì œë“¤ì´ ì•„ì§ ì¸¡ì •ë˜ì§€ ì•Šì•˜ë‹¤ë©´ ì–´ë–»ê²Œ í•´ì•¼ í• ê¹Œìš”?

### í•´ê²° ë°©ë²• ê²€í† 

ì—¬ëŸ¬ ê°€ì§€ í•´ê²° ë°©ë²•ì„ ê³ ë ¤í•  ìˆ˜ ìˆì§€ë§Œ, ê°ê° í•œê³„ê°€ ìˆìŠµë‹ˆë‹¤:

| ë°©ë²• | ì„¤ëª… | ë¬¸ì œì  |
|------|------|--------|
| **Subcomposition** | ì„œë¸Œ ì»´í¬ì§€ì…˜ì„ ì‚¬ìš© | ë•Œë¡œëŠ” ê³¼ë„í•œ ë°©ë²•ì¼ ìˆ˜ ìˆìŒ |
| **ë‘ ë²ˆ ì¸¡ì •** | ì¸¡ì •ì„ ë‘ ë²ˆ ìˆ˜í–‰ | âŒ **ë¶ˆê°€ëŠ¥** - ComposeëŠ” ì„±ëŠ¥ìƒì˜ ì´ìœ ë¡œ ë‹¨ í•œ ë²ˆì˜ ì¸¡ì •ì„ ê°•ì œí•˜ë©°, ë‘ ë²ˆ ì¸¡ì • ì‹œë„ ì‹œ ì˜ˆì™¸ ë°œìƒ |
| **ê³ ìœ  í¬ê¸° ì¸¡ì •** | Intrinsic Measurements ì‚¬ìš© | âœ… **ì¢‹ì€ íƒ€í˜‘ì±…** |

### ê³ ìœ  í¬ê¸° ì¸¡ì •ì˜ ì‘ë™ ë°©ì‹

ëª¨ë“  `LayoutNode`ì—ëŠ” ë‘ ê°€ì§€ ì •ì±…ì´ í• ë‹¹ë©ë‹ˆë‹¤:
1. **ì¸¡ì • ì •ì±…(Measure Policy)**
2. **ê³ ìœ  í¬ê¸° ì¸¡ì • ì •ì±…(Intrinsic Size Measurement Policy)** - ì´ì „ ì •ì±…ì— ì˜ì¡´

ì´ëŸ¬í•œ ì˜ì¡´ ê´€ê³„ëŠ” ë‹¤ìŒê³¼ ê°™ì€ íš¨ê³¼ë¥¼ ê°€ì ¸ì˜µë‹ˆë‹¤:

```mermaid
graph TD
  A[ë…¸ë“œì˜ ì¸¡ì • ì •ì±… ë³€ê²½] --> B[í•´ë‹¹ ë…¸ë“œì˜ ê³ ìœ  í¬ê¸° ì¸¡ì • ì •ì±… ì—…ë°ì´íŠ¸]
  B --> C[ì´ì— ì˜ì¡´í•˜ëŠ” ëª¨ë“  ì¡°ìƒì˜ ë ˆì´ì•„ì›ƒ ì¬ê³„ì‚°]
  
  style A fill:#ffebee
  style B fill:#fff3e0
  style C fill:#e8f5e9
```

## ê³ ìœ  í¬ê¸° ì¸¡ì • ë©”ì„œë“œ

`LayoutNode`ì— í• ë‹¹ëœ ê³ ìœ  í¬ê¸° ì •ì±…ì€ ë‹¤ìŒ ê°’ë“¤ì„ ê³„ì‚°í•  ìˆ˜ ìˆëŠ” ë©”ì„œë“œë¥¼ ì œê³µí•©ë‹ˆë‹¤:

### ì œê³µë˜ëŠ” ë©”ì„œë“œ

| ë©”ì„œë“œ | ì…ë ¥ | ì¶œë ¥ | ì„¤ëª… |
|--------|------|------|------|
| `minIntrinsicWidth` | ë†’ì´ | ìµœì†Œ ë„ˆë¹„ | ë ˆì´ì•„ì›ƒ ì½˜í…ì¸ ë¥¼ ì˜¬ë°”ë¥´ê²Œ ê·¸ë¦´ ìˆ˜ ìˆëŠ”, íŠ¹ì • ë†’ì´ì— ëŒ€í•œ **ìµœì†Œ ë„ˆë¹„** |
| `minIntrinsicHeight` | ë„ˆë¹„ | ìµœì†Œ ë†’ì´ | ë ˆì´ì•„ì›ƒ ì½˜í…ì¸ ë¥¼ ì˜¬ë°”ë¥´ê²Œ ê·¸ë¦´ ìˆ˜ ìˆëŠ”, íŠ¹ì • ë„ˆë¹„ì— ëŒ€í•œ **ìµœì†Œ ë†’ì´** |
| `maxIntrinsicWidth` | ë†’ì´ | ìµœëŒ€ ë„ˆë¹„ | ì´ë¥¼ ë” ëŠ˜ë ¤ë„ ìµœì†Œ ê³ ìœ  ë†’ì´ê°€ ê°ì†Œí•˜ì§€ ì•ŠëŠ” **ìµœì†Œ ë„ˆë¹„** |
| `maxIntrinsicHeight` | ë„ˆë¹„ | ìµœëŒ€ ë†’ì´ | ì´ë¥¼ ë” ëŠ˜ë ¤ë„ ìµœì†Œ ê³ ìœ  ë„ˆë¹„ê°€ ê°ì†Œí•˜ì§€ ì•ŠëŠ” **ìµœì†Œ ë†’ì´** |

> **ğŸ’¡ í•µì‹¬ ê°œë…**: í•„ìš”í•œ ì¹˜ìˆ˜ë¥¼ ê³„ì‚°í•˜ê¸° ìœ„í•´ **ë°˜ëŒ€ ì¹˜ìˆ˜ë¥¼ ì œê³µ**í•´ì•¼ í•©ë‹ˆë‹¤. ì œì•½ ì¡°ê±´ì´ ì—†ê¸° ë•Œë¬¸ì— ë ˆì´ì•„ì›ƒ ì½˜í…ì¸ ë¥¼ ì˜¬ë°”ë¥´ê²Œ ê·¸ë¦´ ìˆ˜ ìˆëŠ” ì ì ˆí•œ í¬ê¸°ë¥¼ ê³„ì‚°í•  ìˆ˜ ìˆëŠ” ìœ ì¼í•œ ë‹¨ì„œëŠ” ì¹˜ìˆ˜ ì¤‘ í•˜ë‚˜ì…ë‹ˆë‹¤.

### í•¨ìˆ˜ë³„ ìƒì„¸ ì„¤ëª…

ê° í•¨ìˆ˜ì˜ ê³µì‹ KDocsë¥¼ í†µí•´ ë” ëª…í™•í•˜ê²Œ ì´í•´í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤:

- **`minIntrinsicWidth`**: ë ˆì´ì•„ì›ƒ ì½˜í…ì¸ ë¥¼ ì˜¬ë°”ë¥´ê²Œ ê·¸ë¦´ ìˆ˜ ìˆëŠ”, íŠ¹ì • ë†’ì´ì— ëŒ€í•´ ë ˆì´ì•„ì›ƒì´ ê°€ì§ˆ ìˆ˜ ìˆëŠ” **ìµœì†Œ ë„ˆë¹„** ì œê³µ
- **`minIntrinsicHeight`**: ë ˆì´ì•„ì›ƒ ì½˜í…ì¸ ê°€ ì˜¬ë°”ë¥´ê²Œ ê·¸ë ¤ì§ˆ ìˆ˜ ìˆëŠ”, íŠ¹ì • ë„ˆë¹„ì— ëŒ€í•´ ì´ ë ˆì´ì•„ì›ƒì´ ê°€ì§ˆ ìˆ˜ ìˆëŠ” **ìµœì†Œ ë†’ì´** ì œê³µ
- **`maxIntrinsicWidth`**: ì´ë¥¼ ë” ëŠ˜ë ¤ë„ ìµœì†Œ ê³ ìœ  ë†’ì´ê°€ ê°ì†Œí•˜ì§€ ì•ŠëŠ” **ìµœì†Œ ë„ˆë¹„** ì œê³µ
- **`maxIntrinsicHeight`**: ì´ë¥¼ ë” ëŠ˜ë ¤ë„ ìµœì†Œ ê³ ìœ  ë„ˆë¹„ê°€ ê°ì†Œí•˜ì§€ ì•ŠëŠ” **ìµœì†Œ ë†’ì´** ì œê³µ

## ì‹¤ì œ êµ¬í˜„ ì˜ˆì‹œ

### Modifier.width(IntrinsicSize) êµ¬í˜„

ê³ ìœ  ì¸¡ì •ì— ëŒ€í•´ ì´í•´í•˜ëŠ” ì¢‹ì€ ì˜ˆë¡œ `Modifier.width(intrinsicSize: IntrinsicSize)` (ë˜ëŠ” ê·¸ì— ìƒì‘í•˜ëŠ” `height` ë²„ì „)ë¥¼ ë“¤ ìˆ˜ ìˆìŠµë‹ˆë‹¤.

- **ì¼ë°˜ Modifier.width**: ë…¸ë“œì— ëŒ€í•´ ì •í™•í•œ ì„ í˜¸ ë„ˆë¹„ë¥¼ ì„ ì–¸
- **Modifier.width(IntrinsicSize)**: ë…¸ë“œ ìì²´ì˜ ìµœì†Œ ë˜ëŠ” ìµœëŒ€ ê³ ìœ  ë„ˆë¹„ì™€ ì¼ì¹˜í•˜ëŠ” ì„ í˜¸ ë„ˆë¹„ë¥¼ ì„ ì–¸

```kotlin
// Intrinsic.kt
@Stable
fun Modifier.width(intrinsicSize: IntrinsicSize) = when (intrinsicSize) {
  IntrinsicSize.Min -> this.then(MinIntrinsicWidthModifier)
  IntrinsicSize.Max -> this.then(MaxIntrinsicWidthModifier)
}
```

### MaxIntrinsicWidthModifier ìƒì„¸ êµ¬í˜„

`Modifier.width(IntrinsicSize.Max)`ì™€ ê°™ì´ í˜¸ì¶œí•  ê²½ìš°:
- `MaxIntrinsicWidthModifier`ë¥¼ ì„ íƒ
- ìµœì†Œ ê³ ìœ  ë„ˆë¹„ë¥¼ ìµœëŒ€ ê³ ìœ  ë„ˆë¹„ì™€ ì¼ì¹˜ì‹œí‚¤ê¸° ìœ„í•´ ë®ì–´ì”€ (ì¦‰, **ì •í™•í•˜ê²Œ** ë§Œë“¦)
- ë“¤ì–´ì˜¤ëŠ” `maxHeight` ì œì•½ ì¡°ê±´ì— ëŒ€í•´ ê°€ëŠ¥í•œ ìµœëŒ€ ê³ ìœ  ë„ˆë¹„ì™€ ì¼ì¹˜í•˜ë„ë¡ ì½˜í…ì¸  ì œì•½ ì¡°ê±´ì„ ê³ ì •

```kotlin
// Intrinsic.kt
private object MaxIntrinsicWidthModifier : IntrinsicSizeModifier {
  override fun MeasureScope.calculateContentConstraints(
    measurable: Measurable,
    constraints: Constraints
  ): Constraints {
    val width = measurable.maxIntrinsicWidth(constraints.maxHeight)
    return Constraints.fixedWidth(width)
  }
  
  override fun IntrinsicMeasureScope.minIntrinsicWidth(
    measurable: IntrinsicMeasurable,
    height: Int
  ) = measurable.maxIntrinsicWidth(height)
}
```

## ì‹¤ì œ ì‚¬ìš© ì‚¬ë¡€

### DropdownMenu ì˜ˆì œ

ìµœì¢… ì‚¬ìš©ì ê´€ì ì—ì„œ ê¶ê·¹ì ì¸ íš¨ê³¼ë¥¼ ì´í•´í•˜ëŠ” ê²ƒì´ ì¤‘ìš”í•©ë‹ˆë‹¤. ì´ Modifierë¥¼ ì‚¬ìš©í•  ë•Œ UIëŠ” ì–´ë–»ê²Œ ë³´ì¼ê¹Œìš”?

`DropdownMenu` Composableì€ `Column` ë‚´ì—ì„œ ë©”ë‰´ í•­ëª©ì„ í‘œì‹œí•˜ê¸° ìœ„í•´ `DropdownMenuContent`ë¥¼ ì‚¬ìš©í•©ë‹ˆë‹¤:

```kotlin
// DropDownMenuContent composable
@Composable
fun DropdownMenuContent(...) {
  ...
  Column(
    modifier = modifier
      .padding(vertical = DropdownMenuVerticalPadding)
      .width(IntrinsicSize.Max)
      .verticalScroll(rememberScrollState()),
    content = content
  )
  ...
}
```

#### ë™ì‘ ë°©ì‹

ì´ ì½”ë“œëŠ” `Column`ì˜ ë„ˆë¹„ë¥¼ **ëª¨ë“  ìì‹(ë©”ë‰´ í•­ëª©)ì˜ ìµœëŒ€ ê³ ìœ  ë„ˆë¹„ì™€ ì¼ì¹˜**í•˜ë„ë¡ ì„¤ì •í•©ë‹ˆë‹¤. 

ê²°ê³¼ì ìœ¼ë¡œ:
- ë“œë¡­ë‹¤ìš´ ë©”ë‰´ê°€ **ê°€ì¥ ë„“ì€ ìì‹ì˜ ë„ˆë¹„ì™€ ì¼ì¹˜**í•˜ë„ë¡ ê°•ì œë©ë‹ˆë‹¤
- ëª¨ë“  ë©”ë‰´ í•­ëª©ì´ ë™ì¼í•œ ë„ˆë¹„ë¥¼ ê°–ê²Œ ë©ë‹ˆë‹¤

![Dropdown Menu](./screenshots/dropdown-menu.png)

### ë” ë§ì€ ì˜ˆì œ

ì•ˆë“œë¡œì´ë“œ UIì—ì„œ ì‹¤ì œ ì‚¬ìš© ì‚¬ë¡€ì— ê³ ìœ  í¬ê¸° ì¸¡ì •ì´ ì–´ë–»ê²Œ ì‚¬ìš©ë˜ëŠ”ì§€ì— ëŒ€í•œ ë” ë§ì€ ì˜ˆë¥¼ ë³´ë ¤ë©´ [ê³µì‹ ê³ ìœ  í¬ê¸° ì¸¡ì • ë¬¸ì„œ](https://developer.android.com/develop/ui/compose/layouts/intrinsic-measurements)ë¥¼ ì°¸ì¡°í•˜ì„¸ìš”.

## ìš”ì•½

- **ê³ ìœ  í¬ê¸° ì¸¡ì •(Intrinsic Measurements)** ì€ ì œì•½ ì¡°ê±´ì´ ì—†ì„ ë•Œ ë ˆì´ì•„ì›ƒì˜ ì¶”ì • í¬ê¸°ë¥¼ ê³„ì‚°í•˜ëŠ” ë©”ì»¤ë‹ˆì¦˜ìœ¼ë¡œ, ì¸¡ì • ë‹¨ê³„ ì´ì „ì— ìì‹ì˜ í¬ê¸° ì •ë³´ê°€ í•„ìš”í•  ë•Œ ìœ ìš©í•©ë‹ˆë‹¤
- ComposeëŠ” ì„±ëŠ¥ìƒì˜ ì´ìœ ë¡œ ë‹¨ í•œ ë²ˆì˜ ì¸¡ì •ë§Œ í—ˆìš©í•˜ë¯€ë¡œ, ë‘ ë²ˆ ì¸¡ì • ëŒ€ì‹  ê³ ìœ  í¬ê¸° ì¸¡ì •ì„ ì‚¬ìš©í•˜ì—¬ ë¬¸ì œë¥¼ í•´ê²°í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤
- ëª¨ë“  `LayoutNode`ëŠ” ì¸¡ì • ì •ì±…ê³¼ ê³ ìœ  í¬ê¸° ì¸¡ì • ì •ì±…ì„ ê°€ì§€ë©°, ì¸¡ì • ì •ì±… ë³€ê²½ ì‹œ ì˜ì¡´í•˜ëŠ” ëª¨ë“  ì¡°ìƒì˜ ë ˆì´ì•„ì›ƒì´ ì¬ê³„ì‚°ë©ë‹ˆë‹¤
- ê³ ìœ  í¬ê¸° ì¸¡ì •ì€ `minIntrinsicWidth`, `minIntrinsicHeight`, `maxIntrinsicWidth`, `maxIntrinsicHeight` ë„¤ ê°€ì§€ ë©”ì„œë“œë¥¼ ì œê³µí•˜ë©°, ë°˜ëŒ€ ì¹˜ìˆ˜ë¥¼ ì…ë ¥ë°›ì•„ í•„ìš”í•œ ì¹˜ìˆ˜ë¥¼ ê³„ì‚°í•©ë‹ˆë‹¤
- `Modifier.width(IntrinsicSize.Max)`ì™€ ê°™ì€ Modifierë¥¼ ì‚¬ìš©í•˜ì—¬ ë…¸ë“œì˜ í¬ê¸°ë¥¼ ê³ ìœ  í¬ê¸°ì— ë§ì¶œ ìˆ˜ ìˆìœ¼ë©°, ëŒ€í‘œì ì¸ ì‚¬ìš© ì˜ˆë¡œ `DropdownMenu`ì—ì„œ ê°€ì¥ ë„“ì€ ìì‹ì˜ ë„ˆë¹„ì— ë§ì¶° ëª¨ë“  ë©”ë‰´ í•­ëª©ì˜ ë„ˆë¹„ë¥¼ í†µì¼í•˜ëŠ” ê²½ìš°ê°€ ìˆìŠµë‹ˆë‹¤