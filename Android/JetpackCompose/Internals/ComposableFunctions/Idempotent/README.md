# 멱등성 (Idempotent)

Composable 함수는 생성하는 노드 트리에 대해 멱등성을 가져야 합니다. **동일한 입력 매개변수를 사용하여 Composable 함수를 여러 번 다시 실행하더라도 동일한 트리가 생성**되어야 합니다. Jetpack Compose Runtime은 `recomposition`과 같은 작업을 위해 이러한 멱등성이 제공하는 가정에 의존합니다.


Jetpack Compose에서 recomposition이 의미하는 바는, **입력값이 변경될 때 마다 Composable 함수를 다시 실행하여 업데이트된 정보를 방출시키고 트리를 업데이트하는 작업**입니다. Compose Runtime은 임의의 시점과 몇 가지 이유를 바탕으로 Composable 함수를 recomposition하는 역할을 수행해야합니다.


`Recomposition`의 과정은 트리를 아래로 순회하면서 어떤 노드를 재구성 해야 하는지 확인합니다. 이 과정에서 입력값이 변경된 노드만 recomposition을 수행하고 나머지는 생략합니다. 특정 노드를 생략하는 것은 해당 노드를 대표하는 Composable 함수가 멱등성의 성질을 가질 때만 가능합니다. 그 이유는 런타임은 동일한 입력값을 제공할 경우 동일한 결과를 생성한다고 가정할 수 있기 때문입니다. 동일한 입력값에 대한 결과는 이미 메모리에 적재되어 있으므로 Compose는 다시 실행할 필요가 없고, 결과적으로 생략할 수 있습니다.

## 요약
* Composable 함수는 **멱등성(Idempotent)** 을 가져야 합니다. 이는 **동일한 입력값이 주어지면, 함수를 몇 번 실행하든 항상 동일한 UI 트리**를 만들어야 함을 의미합니다.
* Compose 런타임은 이 멱등성 원칙을 기반으로 **리컴포지션(recomposition)을 최적화**합니다.
* 상태가 변경되어 리컴포지션이 발생할 때, 런타임은 각 컴포저블의 입력값이 이전과 동일한지 확인합니다. 만약 입력값이 같다면, 멱등성에 의해 결과도 같을 것이라고 가정하고 해당 컴포저블의 **재실행을 안전하게 건너뛸(skip) 수 있습니다.** 이는 불필요한 계산을 줄여 성능을 크게 향상시킵니다.
