# Jetpack Composeμ μ•μ •μ„±(Stability)κ³Ό μ„±λ¥μ κ΄€κ³„

Jetpack Composeμ—μ„ **μ•μ •μ„±(Stability)** μ€ νΉμ • ν΄λμ¤λ‚ νƒ€μ…μ΄ **λ™μΌν• μ…λ ¥μ— λ€ν•΄ ν•­μƒ μΌκ΄€λ κ²°κ³Όλ¥Ό μƒμ„±**ν•¨μ„ λ³΄μ¥ν•λ” μ†μ„±μ„ μλ―Έν•©λ‹λ‹¤. μ•μ •μ μΈ ν΄λμ¤λ‚ ν•¨μλ” λ¦¬μ»΄ν¬μ§€μ…(recomposition) μ¤‘μ— μ—¬λ¬ λ² μ‚¬μ©λλ”λΌλ„ μκΈ°μΉ μ•κ² λ™μ‘μ΄ λ³€κ²½λμ§€ μ•μμ„ λ³΄μ¥ν•©λ‹λ‹¤. μ΄λ¬ν• νΉμ„±μ€ Jetpack Composeκ°€ μ¤‘λ³µ(λ¶ν•„μ”ν•) λ¦¬μ»΄ν¬μ§€μ… μ—†μ΄ UI μ—…λ°μ΄νΈλ¥Ό ν¨μ¨μ μΌλ΅ μ²λ¦¬ν•  μ μλ„λ΅ λ³΄μ¥ν•λ” λ° λ§¤μ° μ¤‘μ”ν•©λ‹λ‹¤.

λ¦¬μ»΄ν¬μ§€μ…μ€ μ΄λ―Έ λ λ”λ§λ UIλ¥Ό μ—…λ°μ΄νΈν•κΈ° μ„ν•΄ λ‹¤μ–‘ν• λ©”μ»¤λ‹μ¦μ„ ν†µν•΄ νΈλ¦¬κ±°λ©λ‹λ‹¤. μ΄ μ¤‘μ—μ„λ„, μ»΄ν¬μ €λΈ” ν•¨μμ νλΌλ―Έν„° μ•μ •μ„±μ€ Compose λ°νƒ€μ„κ³Ό μ»΄νμΌλ¬κ°€ λ¦¬μ»΄ν¬μ§€μ…μ΄ ν•„μ”ν• μ‹μ μ„ κ²°μ •ν•λ” λ°©μ‹μ ν•µμ‹¬ λ¶€λ¶„μ„ ν•μ„±ν•©λ‹λ‹¤.

Compose μ»΄νμΌλ¬λ” μ»΄ν¬μ €λΈ” ν•¨μμ νλΌλ―Έν„°λ¥Ό ν‰κ°€ν•μ—¬ **μ•μ •μ (stable)** λλ” **λ¶μ•μ •(unstable)** μΌλ΅ λ¶„λ¥ν•©λ‹λ‹¤. μ΄ λ¶„λ¥λ” Compose λ°νƒ€μ„μ΄ μ…λ ¥κ°’μ λ³€κ²½μ— λ”°λΌ μ»΄ν¬μ €λΈ” ν•¨μλ¥Ό λ‹¤μ‹ λ λ”λ§ν•΄μ•Ό ν• μ§€ κ²°μ •ν•λ” λ° μ΄ μ •λ³΄λ¥Ό μ‚¬μ©ν•λ―€λ΅, λ¦¬μ»΄ν¬μ§€μ…μ„ ν¨μ¨μ μΌλ΅ κ΄€λ¦¬ν•λ” λ° λ§¤μ° μ¤‘μ”ν•©λ‹λ‹¤.

-----

## μ•μ •μ μΈ(Stable) νƒ€μ…κ³Ό λ¶μ•μ •ν•(Unstable) νƒ€μ… μ΄ν•΄ν•κΈ°

νλΌλ―Έν„°κ°€ μ–΄λ–»κ² μ•μ •μ μΈμ§€ λλ” λ¶μ•μ •ν•μ§€λ΅ λ¶„λ¥λλ”μ§€ κ¶κΈν•  μ μμµλ‹λ‹¤. μ΄ λ¶„λ¥λ” Compose μ»΄νμΌλ¬μ— μν•΄ μ²λ¦¬λλ©°, μ»΄νμΌλ¬λ” μ»΄ν¬μ €λΈ” ν•¨μμ νλΌλ―Έν„° νƒ€μ…μ„ ν‰κ°€ν•κ³  λ‹¤μ κΈ°μ¤€μ— λ”°λΌ μ•μ •μ„±μ„ κ²°μ •ν•©λ‹λ‹¤.

### μ•μ •μ μΈ νƒ€μ…μ κΈ°μ¤€

  * `String`μ„ ν¬ν•¨ν• **κΈ°λ³Έ(μ›μ‹) νƒ€μ…**μ€ μκΈ°μΉ μ•κ² λ³€κ²½λμ§€ μ•μΌλ―€λ΅ λ³Έμ§μ μΌλ΅ μ•μ •μ μ…λ‹λ‹¤.
  * μ™Έλ¶€ κ°’μ„ μΊ΅μ²ν•μ§€ μ•λ” **ν•¨μ νƒ€μ…**(μ: λλ‹¤ ν‘ν„μ‹, `(Int) -> String`) λν• μμΈ΅ κ°€λ¥ν• λ™μ‘μΌλ΅ μΈν•΄ μ•μ •μ μΈ κ²ƒμΌλ΅ κ°„μ£Όλ©λ‹λ‹¤.
  * **λ¶λ³€(immutable)ν•κ³  μ•μ •μ μΈ public ν”„λ΅νΌν‹°**λ΅λ§ κµ¬μ„±λ ν΄λμ¤, νΉν λ°μ΄ν„° ν΄λμ¤λ” μ•μ •μ μΈ κ²ƒμΌλ΅ κ°„μ£Όλ©λ‹λ‹¤. λν•, `@Stable` λλ” `@Immutable`κ³Ό κ°™μ€ μ•μ •μ„± μ–΄λ…Έν…μ΄μ…μΌλ΅ λ…μ‹μ μΌλ΅ ν‘μ‹λ ν΄λμ¤λ” μ•μ •μ μΈ κ²ƒμΌλ΅ μΈμ‹λ©λ‹λ‹¤. μ΄λ¬ν• μ–΄λ…Έν…μ΄μ…κ³Ό κ·Έ μν–¥μ κµ¬μ²΄μ μΈ λ‚΄μ©μ€ λ‹¤μ μ„Ήμ…μ—μ„ νƒμƒ‰ν•  κ²ƒμ…λ‹λ‹¤.

μλ¥Ό λ“¤μ–΄, μ•„λμ λ°μ΄ν„° ν΄λμ¤λ¥Ό μƒμƒν•΄ λ³Ό μ μμµλ‹λ‹¤.

```kotlin
data class User(
    val id: Int,
    val name: String,
)
```

λ¶λ³€μ κΈ°λ³Έ ν”„λ΅νΌν‹°λ΅ κµ¬μ„±λ `User` λ°μ΄ν„° ν΄λμ¤λ” Compose μ»΄νμΌλ¬μ— μν•΄ μ•μ •μ μΈ κ²ƒμΌλ΅ μΈμ‹λ©λ‹λ‹¤.

-----

### λ¶μ•μ •ν• νƒ€μ…μ κΈ°μ¤€

λ°λ©΄μ—, Compose μ»΄νμΌλ¬λ” λ‹¤μ κΈ°μ¤€μ— λ”°λΌ νΉμ • νλΌλ―Έν„° νƒ€μ…μ„ λ¶μ•μ •ν• κ²ƒμΌλ΅ μ‹λ³„ν•©λ‹λ‹¤.

  * **μΈν„°νμ΄μ¤ λ° μ¶”μƒ ν΄λμ¤:** `List`, `Map` λλ” `Any`μ™€ κ°™μ€ νƒ€μ…μ€ μ»΄νμΌ μ‹μ μ— κ·Έ κµ¬ν„μ„ λ³΄μ¥ν•  μ μ—†κΈ° λ•λ¬Έμ— λ¶μ•μ •ν• κ²ƒμΌλ΅ κ°„μ£Όλ©λ‹λ‹¤. μ΄ λ¶„λ¥μ— λ€ν• κ·Όκ±°λ” λ‚μ¤‘μ— μ„Ήμ…μ—μ„ μμ„Έν μ„¤λ…ν•  κ²ƒμ…λ‹λ‹¤.
  * **λ³€κ²½ κ°€λ¥ν•(Mutable) ν”„λ΅νΌν‹°λ¥Ό κ°€μ§„ ν΄λμ¤:** ν•λ‚ μ΄μƒμ λ³€κ²½ κ°€λ¥ν•κ±°λ‚ λ³Έμ§μ μΌλ΅ λ¶μ•μ •ν• public ν”„λ΅νΌν‹°λ¥Ό ν¬ν•¨ν•λ” λ°μ΄ν„° ν΄λμ¤λ” λ¶μ•μ •ν• κ²ƒμΌλ΅ λ¶„λ¥λ©λ‹λ‹¤.

μλ¥Ό λ“¤μ–΄, λ‹¤μ λ°μ΄ν„° ν΄λμ¤λ¥Ό κ³ λ ¤ν•΄ λ³΄μ„Έμ”.

```kotlin
data class MutableUser(
    val id: Int,
    var name: String // λ³€κ²½ κ°€λ¥ν• ν”„λ΅νΌν‹°κ°€ μ΄ ν΄λμ¤λ¥Ό λ¶μ•μ •ν•κ² λ§λ“¦
)
```

μ΄ μμ—μ„ `MutableUser` ν΄λμ¤λ” λ³€κ²½ κ°€λ¥ν• ν”„λ΅νΌν‹°(`name`)μ μ΅΄μ¬λ΅ μΈν•΄ λ¶μ•μ •ν• κ²ƒμΌλ΅ κ°„μ£Όλ©λ‹λ‹¤.

> (μ—­μ μ£Ό: μ›λ¬Έ μμ‹μ ν΄λμ¤ μ΄λ¦„μ΄ `User`λ΅ λμ–΄ μμΌλ‚ λ¬Έλ§¥μƒ `MutableUser`κ°€ μ ν•©ν•μ—¬ μμ •ν•μ€μµλ‹λ‹¤.)

λΉ„λ΅ `MutableUser` λ°μ΄ν„° ν΄λμ¤κ°€ μ£Όλ΅ κΈ°λ³Έ ν”„λ΅νΌν‹°λ¥Ό ν¬ν•¨ν•λ”λΌλ„, λ³€κ²½ κ°€λ¥ν• `name` ν”„λ΅νΌν‹°μ μ΅΄μ¬λ” Compose μ»΄νμΌλ¬κ°€ μ΄λ¥Ό λ¶μ•μ •ν• κ²ƒμΌλ΅ λ¶„λ¥ν•κ² λ§λ“­λ‹λ‹¤. μ΄λ¬ν• λ¶„λ¥λ” ν΄λμ¤μ μ•μ •μ„±μ΄ λ¨λ“  ν”„λ΅νΌν‹°μ μ•μ •μ„±μ„ μ΄μ²΄μ μΌλ΅ ν‰κ°€ν•μ—¬ κ²°μ •λκΈ° λ•λ¬Έμ— λ°μƒν•©λ‹λ‹¤. κ²°κ³Όμ μΌλ΅, λ‹¨ ν•λ‚μ λ³€κ²½ κ°€λ¥ν• ν”„λ΅νΌν‹°κ°€ μ „μ²΄ ν΄λμ¤λ¥Ό λ¶μ•μ •ν•κ² λ§λ“¤ μ μμµλ‹λ‹¤.

-----

## μ»΄ν¬μ €λΈ” ν•¨μ μ¶”λ΅ 

λ λ‹¤λ¥Έ μ¤‘μ”ν• κ°λ…μΈ, μ»΄νμΌλ¬κ°€ μ»΄ν¬μ €λΈ” ν•¨μ νƒ€μ…μ„ μ–΄λ–»κ² μ¶”λ΅ ν•κ³  μµμ ν™”ν•λ”μ§€ νƒμƒ‰ν•λ” κ²ƒμ΄ ν•„μμ μ…λ‹λ‹¤. μ½”ν‹€λ¦° μ»΄νμΌλ¬ ν”λ¬κ·ΈμΈμΌλ΅μ„ Compose μ»΄νμΌλ¬λ” μ»΄νμΌ νƒ€μ„μ— κ°λ°μκ°€ μ‘μ„±ν• μ†μ¤ μ½”λ“λ¥Ό λ¶„μ„ν•©λ‹λ‹¤. λ¶„μ„μ„ λ„μ–΄, ν¨μ¨μ μΈ μ‹¤ν–‰μ„ μ„ν•΄ μ»΄ν¬μ €λΈ” ν•¨μμ κ³ μ ν• μ”κµ¬ μ‚¬ν•­μ— λ§μ¶° μ›λ³Έ μ†μ¤ μ½”λ“λ¥Ό μμ •ν•©λ‹λ‹¤.

μ„±λ¥μ„ μµμ ν™”ν•κΈ° μ„ν•΄ μ»΄νμΌλ¬λ” μ»΄ν¬μ €λΈ” ν•¨μλ¥Ό **Restartable**, **Skippable**, **Moveable**, **Replaceable**κ³Ό κ°™μ€ λ¶„λ¥λ΅ λ‚λ•λ‹λ‹¤. μ΄ μ¤‘μ—μ„ `Restartable`κ³Ό `Skippable` νƒ€μ…μ€ λ¦¬μ»΄ν¬μ§€μ…μ—μ„ λ§¤μ° μ¤‘μ”ν•λ©°, μ΄ ν† λ΅ μ—μ„λ” κ·Έ μ—­ν• λ“¤μ„ μμ„Έν νƒμƒ‰ν•  κ²ƒμ…λ‹λ‹¤.

  * **Restartable (μ¬μ‹μ‘ κ°€λ¥):** `Restartable` ν•¨μλ” Compose μ»΄νμΌλ¬μ— μν•΄ κ²°μ •λλ” μ»΄ν¬μ €λΈ”μ ν• μ ν•μΌλ΅, λ¦¬μ»΄ν¬μ§€μ… κ³Όμ •μ κΈ°μ΄λ¥Ό ν•μ„±ν•©λ‹λ‹¤. μ…λ ¥μ΄λ‚ μƒνƒκ°€ λ³€κ²½λ  λ•, Compose λ°νƒ€μ„μ€ UIλ¥Ό μ—…λ°μ΄νΈν•κΈ° μ„ν•΄ μ΄λ¬ν• ν•¨μλ“¤μ„ λ‹¤μ‹ νΈμ¶ν•©λ‹λ‹¤. λ€λ¶€λ¶„μ μ»΄ν¬μ €λΈ” ν•¨μλ” κΈ°λ³Έμ μΌλ΅ μ¬μ‹μ‘ κ°€λ¥μΌλ΅ κ°„μ£Όλμ–΄, λ°νƒ€μ„μ΄ ν•„μ”ν•  λ•λ§λ‹¤ λ¦¬μ»΄ν¬μ§€μ…μ„ νΈλ¦¬κ±°ν•  μ μκ² ν•©λ‹λ‹¤.

  * **Skippable (κ±΄λ„λ›°κΈ° κ°€λ¥):** `Skippable` ν•¨μλ” **μ¤λ§νΈ λ¦¬μ»΄ν¬μ§€μ…**μ— μν•΄ ν™μ„±ν™”λλ” νΉμ • μ΅°κ±΄ ν•μ—μ„ λ¦¬μ»΄ν¬μ§€μ…μ„ κ±΄λ„λ›Έ μ μμµλ‹λ‹¤. μ΄ μµμ ν™”λ” νΉν ν° ν•¨μ κ³„μΈµμ μµμƒλ‹¨μ— μλ” λ£¨νΈ μ»΄ν¬μ €λΈ”μ μ„±λ¥μ„ ν–¥μƒμ‹ν‚¤λ” λ° μ¤‘μ”ν•λ©°, μ΄λ“¤μ λ¦¬μ»΄ν¬μ§€μ…μ„ κ±΄λ„λ›°λ©΄ ν•μ„ ν•¨μλ“¤μ νΈμ¶μ„ ν”Όν•  μ μμµλ‹λ‹¤. μ£Όλ©ν•  μ μ€, ν•¨μκ°€ μ¬μ‹μ‘ κ°€λ¥ν•λ©΄μ„ λ™μ‹μ— κ±΄λ„λ›°κΈ° κ°€λ¥ν•  μ μλ‹¤λ” κ²ƒμ΄λ©°, μ΄λ” ν•„μ”ν•  λ•λ” λ¦¬μ»΄ν¬μ§€μ…μ„ κ²μ§€λ§ μ΅°κ±΄μ΄ ν—λ½ν•  λ•λ” κ±΄λ„λ›Έ μ μμμ„ μλ―Έν•©λ‹λ‹¤.

-----

## μ”μ•½

Jetpack Composeμ μ•μ •μ„±μ€ μ„±λ¥κ³Ό μ‹ λΆ°μ„±μ— μ§μ ‘μ μΈ μν–¥μ„ λ―ΈμΉλ” κΈ°μ΄μ μΈ κ°λ…μ…λ‹λ‹¤. μ•μ •μ μΈ νƒ€μ…μ„ μ‚¬μ©ν•κ³  λ¶€μ‘μ©μ„ ν”Όν•λ„λ΅ μ»΄ν¬μ €λΈ” ν•¨μλ¥Ό μ„¤κ³„ν•¨μΌλ΅μ¨, λ” λ¶€λ“λ¬μ΄ λ¦¬μ»΄ν¬μ§€μ…κ³Ό μµμ ν™”λ UI κ²½ν—μ„ λ³΄μ¥ν•  μ μμµλ‹λ‹¤. μ•μ •μ„±μ„ μμ©ν•λ©΄ Compose λ°νƒ€μ„μ ν¨μ¨μ„±μ„ μµλ€ν• ν™μ©ν•κ³  μ• ν”λ¦¬μΌ€μ΄μ…μ λ―Έλ νΈν™μ„±μ„ ν™•λ³΄ν•  μ μμµλ‹λ‹¤.

-----

## π’΅ ν”„λ΅ ν: μ¤λ§νΈ λ¦¬μ»΄ν¬μ§€μ…(Smart Recomposition)μ΄λ€?

μ•μ •μ„±μ μ›μΉ™κ³Ό Compose μ»΄νμΌλ¬κ°€ μ•μ •μ μΈ νƒ€μ…κ³Ό λ¶μ•μ •ν• νƒ€μ…μ„ μ–΄λ–»κ² κµ¬λ³„ν•λ”μ§€ νƒμƒ‰ν–μΌλ―€λ΅, μ΄λ¬ν• λ¶„λ¥κ°€ λ¦¬μ»΄ν¬μ§€μ…μ— μ–΄λ–»κ² μν–¥μ„ λ―ΈμΉλ”μ§€ μ΄ν•΄ν•λ” κ²ƒμ΄ μ¤‘μ”ν•΄μ§‘λ‹λ‹¤. Compose μ»΄νμΌλ¬λ” μ»΄ν¬μ €λΈ” ν•¨μμ— μ „λ‹¬λλ” νλΌλ―Έν„°μ μ•μ •μ„±μ„ ν‰κ°€ν•λ©°, Compose λ°νƒ€μ„μ€ μ΄ μ •λ³΄λ¥Ό ν¨μ¨μ μΈ λ¦¬μ»΄ν¬μ§€μ… κ΄€λ¦¬μ— μ‚¬μ©ν•©λ‹λ‹¤.

ν΄λμ¤μ μ•μ •μ„±μ΄ κ²°μ •λλ©΄, Compose λ°νƒ€μ„μ€ **μ¤λ§νΈ λ¦¬μ»΄ν¬μ§€μ…**μ΄λΌλ” λ©”μ»¤λ‹μ¦μ„ ν†µν•΄ μ΄ μ •λ³΄λ¥Ό ν™μ©ν•©λ‹λ‹¤. μ¤λ§νΈ λ¦¬μ»΄ν¬μ§€μ…μ€ μ»΄νμΌλ¬κ°€ μ κ³µν• μ•μ •μ„± λ°μ΄ν„°λ¥Ό λ°”νƒ•μΌλ΅ λ¶ν•„μ”ν• μ—…λ°μ΄νΈλ¥Ό μ„ νƒμ μΌλ΅ κ±΄λ„λ›°μ–΄ UI μ„±λ¥κ³Ό λ°μ‘μ„±μ„ μµμ ν™”ν•©λ‹λ‹¤.

### μ¤λ§νΈ λ¦¬μ»΄ν¬μ§€μ… μ‘λ™ λ°©μ‹

μƒλ΅μ΄ μ…λ ¥μ΄ μ»΄ν¬μ €λΈ” ν•¨μμ— μ „λ‹¬λ  λ•λ§λ‹¤, Composeλ” ν΄λμ¤μ `equals()` λ©”μ„λ“λ¥Ό μ‚¬μ©ν•μ—¬ μ΄μ „ κ°’κ³Ό λΉ„κµν•©λ‹λ‹¤.

  * **μ•μ •μ μΈ νλΌλ―Έν„°, λ³€κ²½ μ—†μ:** νλΌλ―Έν„°κ°€ μ•μ •μ μ΄κ³  κ·Έ κ°’μ΄ λ³€κ²½λμ§€ μ•μ•λ‹¤λ©΄(`equals()`κ°€ `true` λ°ν™), Composeλ” ν•΄λ‹Ή UI μ»΄ν¬λ„νΈμ λ¦¬μ»΄ν¬μ§€μ…μ„ **κ±΄λ„λλ‹λ‹¤.**
  * **μ•μ •μ μΈ νλΌλ―Έν„°, κ°’ λ³€κ²½:** μ•μ •μ μΈ νλΌλ―Έν„°μ κ°’μ΄ λ³€κ²½λμ—λ‹¤λ©΄(`equals()`κ°€ `false` λ°ν™), λ°νƒ€μ„μ€ λ¦¬μ»΄ν¬μ§€μ…μ„ νΈλ¦¬κ±°ν•μ—¬ UIκ°€ μ—…λ°μ΄νΈλ μƒνƒλ¥Ό λ°μν•λ„λ΅ λ³΄μ¥ν•©λ‹λ‹¤.
  * **λ¶μ•μ •ν• νλΌλ―Έν„°:** νλΌλ―Έν„°κ°€ λ¶μ•μ •ν•λ‹¤λ©΄, Composeλ” κ°’ λ³€κ²½ μ—¬λ¶€μ™€ **κ΄€κ³„μ—†μ΄ ν•­μƒ λ¦¬μ»΄ν¬μ§€μ…μ„ νΈλ¦¬κ±°**ν•©λ‹λ‹¤.

### μ™ λ¶ν•„μ”ν• λ¦¬μ»΄ν¬μ§€μ…μ„ ν”Όν•΄μ•Ό ν•λ”κ°€?

μ¤‘λ³µ λ¦¬μ»΄ν¬μ§€μ…μ„ κ±΄λ„λ›°λ” κ²ƒμ€ ν•¨μλ¥Ό μ¬μ‹¤ν–‰ν•κ³  UI μ”μ†λ¥Ό λ‹¤μ‹ κ·Έλ¦¬λ” λ° ν•„μ”ν• μ—°μ‚° μ¤λ²„ν—¤λ“λ¥Ό μ¤„μ—¬ UI μ„±λ¥μ„ ν–¥μƒμ‹ν‚µλ‹λ‹¤. λ¶ν•„μ”ν• λ¦¬μ»΄ν¬μ§€μ…μ€ νΉν μ—¬λ¬ μƒνƒ μμ΅΄μ μΈ μ»΄ν¬λ„νΈκ°€ μλ” λ³µμ΅ν• UI κ³„μΈµ κµ¬μ΅°μ—μ„ μ„±λ¥μ„ μ €ν•μ‹ν‚¬ μ μμµλ‹λ‹¤.

### μ”μ•½

λΉ„λ΅ Jetpack Composeκ°€ λ³Έμ§μ μΌλ΅ μ¤λ§νΈ λ¦¬μ»΄ν¬μ§€μ…μ„ μ§€μ›ν•μ§€λ§, κ°λ°μλ” μ•μ •μ μΈ ν΄λμ¤λ¥Ό μ„¤κ³„ν•κ³  κ°€λ¥ν•  λ•λ§λ‹¤ λ¦¬μ»΄ν¬μ§€μ…μ„ μµμ†ν™”ν•λ” λ°©λ²•μ„ μ΄ν•΄ν•΄μ•Ό ν•©λ‹λ‹¤. μ•μ •μ„± μ›μΉ™μ„ μ΄ν•΄ν•κ³  μ μ©ν•¨μΌλ΅μ¨, κ°λ°μλ” λ” ν¨μ¨μ μ΄κ³  ν™•μ¥ κ°€λ¥ν• Compose UIλ¥Ό κµ¬μ¶•ν•  μ μμµλ‹λ‹¤.

-----

## π’΅ ν”„λ΅ ν: μ–΄λ–¤ μ•μ •μ„± μ–΄λ…Έν…μ΄μ…μ΄ μμΌλ©°, μ–΄λ–»κ² λ‹¤λ¥Έκ°€μ”?

μ•μ •μ„± μ–΄λ…Έν…μ΄μ…μ€ κ°λ°μκ°€ ν΄λμ¤μ μ•μ •μ„±μ„ λ…μ‹μ μΌλ΅ λ‚νƒ€λ‚΄μ–΄ Compose μ»΄νμΌλ¬κ°€ λ¦¬μ»΄ν¬μ§€μ…μ„ μµμ ν™”ν•λ” λ° λ„μ›€μ„ μ¤„ μ μκ² ν•©λ‹λ‹¤. `compose-runtime` λΌμ΄λΈλ¬λ¦¬μ—μ„ μ κ³µν•λ” λ‘ κ°€μ§€ μ£Όμ” μ–΄λ…Έν…μ΄μ…μ€ **`@Immutable`** κ³Ό **`@Stable`** μ…λ‹λ‹¤. μ΄ μ–΄λ…Έν…μ΄μ…λ“¤μ€ λ³„κ°μ λ©μ μ„ κ°€μ§€λ©° μ–΄λ…Έν…μ΄μ…μ΄ λ¶™λ” ν΄λμ¤μ νΉμ„±μ— λ”°λΌ μ μ©λ©λ‹λ‹¤.

### @Immutable

`@Immutable` μ–΄λ…Έν…μ΄μ…μ€ ν΄λμ¤κ°€ **μ™„μ „ν λ¶λ³€(immutable)** μ„μ„ ν‘μ‹ν•μ—¬, λ‹¨μν `val`μ΄λ‚ λ‹¤λ¥Έ μ½κΈ° μ „μ© μ μ•½ μ΅°κ±΄μ„ μ‚¬μ©ν•λ” κ²ƒλ³΄λ‹¤ λ” κ°•λ ¥ν• λ³΄μ¥μ„ Compose μ»΄νμΌλ¬μ— μ κ³µν•©λ‹λ‹¤. μ΄λ” ν΄λμ¤ λ‚΄μ λ¨λ“  ν”„λ΅νΌν‹°κ°€ μ»΄νμΌλ¬μ— μν•΄ λ¶λ³€μΌλ΅ μ²λ¦¬λλ„λ΅ λ³΄μ¥ν•©λ‹λ‹¤. ν΄λμ¤μ— `@Immutable` μ–΄λ…Έν…μ΄μ…μ΄ λ¶™μΌλ©΄, Compose μ»΄νμΌλ¬λ” κ·Έ κ°’μ΄ μ λ€ λ³€κ²½λμ§€ μ•μ„ κ²ƒμ΄λΌκ³  κ°€μ •ν•μ—¬, μ΄ ν΄λμ¤μ— μμ΅΄ν•λ” ν•¨μλ“¤μ λ¦¬μ»΄ν¬μ§€μ…μ„ μ•μ „ν•κ² κ±΄λ„λ›°μ–΄ μ„±λ¥μ„ ν–¥μƒμ‹ν‚¬ μ μμµλ‹λ‹¤.

**μ£Όμ” νΉμ§•:**

  * ν΄λμ¤μ λ¨λ“  ν”„λ΅νΌν‹°κ°€ λ¶λ³€μΌλ΅ κ°„μ£Όλμ–΄μ•Ό ν•¨μ„ λ³΄μ¥ν•©λ‹λ‹¤.
  * λ³€κ²½ κ°€λ¥ν• ν”„λ΅νΌν‹°κ°€ μ—†λ” λ°μ΄ν„° ν΄λμ¤λ‚ λ¨λΈ(μ½κΈ° μ „μ© λλ” μ΄λ―Έ λ¶λ³€)μ— μΌλ°μ μΌλ΅ μ‚¬μ©λ©λ‹λ‹¤.
  * ν΄λμ¤ λ‚΄ μƒνƒ λ³€κ²½μ΄ μ—†μμ„ λ³΄μ¥ν•μ—¬ μµμ ν™”λ¥Ό λ‹¨μν™”ν•©λ‹λ‹¤.

**μμ‹:**

```kotlin
@Immutable
data class User(val id: Int, val items: List<String>)
```

μ„ μμ‹μ—μ„ `id` ν”„λ΅νΌν‹°λ” κΈ°λ³Έ νƒ€μ…μ΄λ―€λ΅ μ•μ •μ μ΄μ§€λ§, `items` ν”„λ΅νΌν‹°λ” `List`μ΄λ―€λ΅ λ¶μ•μ •ν• λ°μ΄ν„° νƒ€μ…μΌλ΅ κ°„μ£Όλ©λ‹λ‹¤. κ²°κ³Όμ μΌλ΅ μ „μ²΄ `User` ν΄λμ¤λ” λ¶μ•μ •ν• κ²ƒμΌλ΅ μ²λ¦¬λ©λ‹λ‹¤. κ·Έλ¬λ‚ κ°λ°μκ°€ λ°νƒ€μ„μ— μ΄λ¬ν• ν”„λ΅νΌν‹°λ“¤μ΄ λ…Όλ¦¬μ μΌλ΅ λ³€κ²½λμ§€ μ•μ„ κ²ƒμ„μ„ μ•λ‹¤λ©΄, ν΄λμ¤μ— `@Immutable`μ„ ν‘μ‹ν•μ—¬ μ•μ •μ μΈ κ²ƒμΌλ΅ λ…μ‹μ μΌλ΅ μ„ μ–Έν•  μ μμµλ‹λ‹¤.

### @Stable

`@Stable` μ–΄λ…Έν…μ΄μ…μ€ ν”„λ΅νΌν‹°κ°€ λ¶λ³€μ΄κ±°λ‚ λ¦¬μ»΄ν¬μ§€μ…μ— μν–¥μ„ μ£Όμ§€ μ•λ” **μ μ–΄λ κ°€λ³€μ„±(controlled mutability)** μ„ κ°€μ§„ ν΄λμ¤μ— μ‚¬μ©λ©λ‹λ‹¤. `@Immutable` μ–΄λ…Έν…μ΄μ…μ— λΉ„ν•΄ μ•½κ°„ λ μ—„κ²©ν•μ§€λ§ κ°•λ ¥ν• λ³΄μ¥μ„ Compose μ»΄νμΌλ¬μ— λ‚νƒ€λƒ…λ‹λ‹¤. μ΄λ” ν΄λμ¤ μμ²΄κ°€ μ•μ •μ μΈ κ²ƒμΌλ΅ κ°„μ£Όλμ§€λ§, κ·Έ ν”„λ΅νΌν‹°λ” μ—¬μ „ν λ³€κ²½λ  μ μμμ„ μλ―Έν•©λ‹λ‹¤. λ‹¨, κ·Έ λ³€κ²½μ΄ Compose λ°νƒ€μ„μ— μ•μ „ν•, μ μ–΄λκ³  μμΈ΅ κ°€λ¥ν• λ°©μ‹μ΄μ–΄μ•Ό ν•©λ‹λ‹¤.

λ”°λΌμ„ `@Stable` μ–΄λ…Έν…μ΄μ…μ€ ν΄λμ¤ μμ²΄κ°€ μ™„μ „ν μ•μ •μ μΌλ΅ κ·μ •λμ§€ μ•λ”λΌλ„ public ν”„λ΅νΌν‹°κ°€ λ¶λ³€μΈ ν΄λμ¤μ— κ°€μ¥ μ ν•©ν•©λ‹λ‹¤. μλ¥Ό λ“¤μ–΄, Jetpack Composeμ—μ„ [`State`](https://developer.android.com/reference/kotlin/androidx/compose/runtime/State) μΈν„°νμ΄μ¤λ” λ¶λ³€μ `value` ν”„λ΅νΌν‹°λ¥Ό λ…Έμ¶ν•μ§€λ§, κ·Έ κΈ°μ €μ κ°’μ€ μΌλ°μ μΌλ΅ [`MutableState`](https://developer.android.com/reference/kotlin/androidx/compose/runtime/MutableState) μΈμ¤ν„΄μ¤λ¥Ό μ‚¬μ©ν•μ—¬ `setValue` ν•¨μλ¥Ό ν†µν•΄ μμ •λ  μ μμµλ‹λ‹¤.

**μ£Όμ” νΉμ§•:**

  * μΌλ¶€ λ³€κ²½ κ°€λ¥ν• ν”„λ΅νΌν‹°λ¥Ό ν—μ©ν•μ§€λ§ ν΄λμ¤μ μ „λ°μ μΈ μ•μ •μ„±μ„ λ³΄μ¥ν•©λ‹λ‹¤.
  * νΉμ • κ°€λ³€μ„±μ΄ λ‚΄λ¶€μ μΌλ΅ κ΄€λ¦¬λλ” ν΄λμ¤μ— μ ν•©ν•©λ‹λ‹¤.
  * μ™„μ „ν• λ¶λ³€μ„±μ΄ μ‹¤μ©μ μ΄μ§€ μ•μ€ κ²½μ°μ— μ μ—°μ„±μ„ μ κ³µν•©λ‹λ‹¤.

**μμ‹:**

```kotlin
@Stable
interface State<out T> {
    val value: T
}

@Stable
interface MutableState<T> : State<T> {
    override var value: T
    operator fun component1(): T
    operator fun component2(): (T) -> Unit
}
```

`State`μ™€ `MutableState`μ—μ„ λ³Ό μ μλ“―μ΄, `MutableState`μ— μν•΄ μƒμ„±λ `State` μΈμ¤ν„΄μ¤λ” `setValue`λ¥Ό μ‚¬μ©ν•μ—¬ λ™μΌν• κ°’μ„ μ„¤μ •ν•  λ• `getValue` ν•¨μ(`value` ν”„λ΅νΌν‹°μ getter)μ—μ„ ν•­μƒ λ™μΌν• κ°’μ„ λ°ν™ν•μ—¬ μΌκ΄€λ κ²°κ³Όλ¥Ό λ³΄μ¥ν•©λ‹λ‹¤. μ„ μ½”λ“ μ΅°κ°μ—μ„ `State`μ™€ `MutableState` μΈν„°νμ΄μ¤ λ¨λ‘ `@Stable` μ–΄λ…Έν…μ΄μ…μΌλ΅ ν‘μ‹λμ–΄ μμµλ‹λ‹¤.

κ²½μ°μ— λ”°λΌ, μ•„λ μμ‹μ™€ κ°™μ΄ νΉμ • ν•¨μκ°€ `@Stable`λ΅ ν‘μ‹λ κ²ƒμ„ λ³Ό μ μμµλ‹λ‹¤. μ΄λ” ν•΄λ‹Ή ν•¨μκ°€ λ°ν™ν•λ” κ°’μ΄ Compose μ»΄νμΌλ¬μ— μν•΄ μ•μ •μ μΈ κ²ƒμΌλ΅ κ°„μ£Όλ  κ²ƒμ„ λ³΄μ¥ν•μ—¬ ν¨μ¨μ μΈ λ¦¬μ»΄ν¬μ§€μ…μ„ λ³΄μ¥ν•¨μ„ λ‚νƒ€λƒ…λ‹λ‹¤.

```kotlin
@Stable
fun Modifier.clipScrollableContainer(orientation: Orientation) =
    then(
        if (orientation == Orientation.Vertical) {
            Modifier.clip(VerticalScrollableClipShape)
        } else {
            Modifier.clip(HorizontalScrollableClipShape)
        }
    )
```

### @Immutableκ³Ό @Stableμ μ°¨μ΄μ 

`@Immutable`κ³Ό `@Stable` μ–΄λ…Έν…μ΄μ…μ κµ¬λ³„μ€ μ²μμ—λ” νΌλ€μ¤λ¬μΈ μ μμ§€λ§, λ§¤μ° κ°„λ‹¨ν•©λ‹λ‹¤. `@Immutable` μ–΄λ…Έν…μ΄μ…μ€ ν΄λμ¤μ λ¨λ“  public ν”„λ΅νΌν‹°κ°€ μ™„μ „ν λ¶λ³€μΌλ΅ κ°„μ£Όλμ–΄μ•Ό ν•¨μ„ λ³΄μ¥ν•λ©°, μ΄λ” κ°μ²΄κ°€ μƒμ„±λ ν›„μ—λ” μƒνƒκ°€ λ³€κ²½λ  μ μ—†μμ„ μλ―Έν•©λ‹λ‹¤. λ°λ€λ΅, `@Stable` μ–΄λ…Έν…μ΄μ…μ€ κ°μ²΄κ°€ λ™μΌν• μ…λ ¥μ— λ€ν•΄ μΌκ΄€λκ³  μμΈ΅ κ°€λ¥ν• κ²°κ³Όλ¥Ό μƒμ„±ν•λ” ν•, λ³€κ²½ κ°€λ¥ν• ν”„λ΅νΌν‹°λ¥Ό κ°€μ§„ κ°μ²΄μ— μ ν•©ν•©λ‹λ‹¤. μ΄λ¬ν• μ°¨μ΄μ μΌλ΅ μΈν•΄ κ°λ°μλ” ν΄λμ¤μ μ•μ •μ„±κ³Ό κ°€λ³€μ„±μ— λ”°λΌ μ μ ν• μ–΄λ…Έν…μ΄μ…μ„ μ„ νƒν•  μ μμµλ‹λ‹¤.

| κµ¬λ¶„ | @Immutable | @Stable |
| --- | --- | --- |
| **λ¶λ³€μ„± μ”κµ¬μ‚¬ν•­** | λ¨λ“  ν”„λ΅νΌν‹°κ°€ λ¶λ³€μΌλ΅ κ°„μ£Όλμ–΄μ•Ό ν•¨. | μΌλ¶€ ν”„λ΅νΌν‹°μ— λ€ν•΄ μ μ–΄λ κ°€λ³€μ„±μ„ ν—μ©ν•¨. |
| **μ‚¬μ© μ‚¬λ΅€** | λ¶λ³€μΌλ΅ κ°„μ£Όλμ–΄μ•Ό ν•λ” λ°μ΄ν„° λ¨λΈμ΄λ‚ μ„¤μ •. | μ μ–΄λ κ°€λ³€μ„±μ„ κ°€μ§„ ν΄λμ¤, μ: UI μƒνƒ. |
| **λ¦¬μ»΄ν¬μ§€μ… λ™μ‘** | λ™μΌν• νλΌλ―Έν„°λ¥Ό κ°€μ§„ μμ΅΄ μ»΄ν¬μ €λΈ”μ λ¦¬μ»΄ν¬μ§€μ…μ„ μ™„μ „ν κ±΄λ„λ€. | λ³€κ²½ κ°€λ¥ν• ν”„λ΅νΌν‹°κ°€ λ³€κ²½λλ©΄ λ¦¬μ»΄ν¬μ§€μ…μ„ νΈλ¦¬κ±°ν•  μ μμ. |

`@Immutable` μ–΄λ…Έν…μ΄μ…μ€ μΌλ°μ μΌλ΅ I/O μ‘μ—…(λ„¤νΈμ›ν¬ μ‘λ‹µ λλ” λ°μ΄ν„°λ² μ΄μ¤ μ—”ν‹°ν‹° λ“±)μ—μ„ λΉ„λ΅―λκ³  μμ •λ  μλ„κ°€ μ—†λ” λ„λ©”μΈ λ¨λΈμ— μ μ©λλ©°, νΉν μ½”ν‹€λ¦° λ°μ΄ν„° ν΄λμ¤λ¥Ό μ‚¬μ©ν•  λ• κ·Έλ ‡μµλ‹λ‹¤. μ΄λ¬ν• λ¨λΈλ“¤μ€ μΈν„°νμ΄μ¤λ‚ λ¶μ•μ •ν• ν΄λμ¤μ— λ€ν• μ°Έμ΅°λ¥Ό ν¬ν•¨ν•λ©΄ λ¶μ•μ •ν• κ²ƒμΌλ΅ κ°„μ£Όλ  μ μμµλ‹λ‹¤. `@Immutable`μΌλ΅ ν‘μ‹ν•¨μΌλ΅μ¨, Compose μ»΄νμΌλ¬λ” ν΄λμ¤λ¥Ό λ¶λ³€μΌλ΅ μ·¨κΈ‰ν•μ—¬ μ•μ •μ„±μ„ λ³΄μ¥ν•κ³  λ¦¬μ»΄ν¬μ§€μ…μ„ μµμ ν™”ν•©λ‹λ‹¤. μμ‹:

```kotlin
@Immutable
public data class User(
    public val id: String,
    public val nickname: String,
    public val profileImages: List<String>,
)
```

λ°λ©΄μ—, `@Stable` μ–΄λ…Έν…μ΄μ…μ€ μΌλ°μ μΌλ΅ λ‹¤μ–‘ν• κµ¬ν„μ„ ν—μ©ν•κ³  λ‚΄λ¶€μ μΈ λ³€κ²½ κ°€λ¥ μƒνƒλ¥Ό ν¬ν•¨ν•  μ μλ” μΈν„°νμ΄μ¤μ— μ‚¬μ©λ©λ‹λ‹¤. λ‹¤μ μμ‹λ” μ΄ μ–΄λ…Έν…μ΄μ…μ΄ μ–΄λ–»κ² ν¨κ³Όμ μΌλ΅ μ μ©λ  μ μλ”μ§€ λ³΄μ—¬μ¤λ‹λ‹¤.

```kotlin
@Stable
interface UiState<T : Result<T>> {
    val value: T?
    val exception: Throwable?

    val hasSuccess: Boolean
        get() = exception == null
}
```

`@Stable` μ–΄λ…Έν…μ΄μ…μ„ μ‚¬μ©ν•λ©΄ `UiState` ν΄λμ¤κ°€ μ•μ •μ μΈ κ²ƒμΌλ΅ ν‘μ‹λμ–΄, Jetpack Composeκ°€ μµμ ν™”λ λ¦¬μ»΄ν¬μ§€μ…κ³Ό μ§€λ¥μ μΈ κ±΄λ„λ›°κΈ°λ¥Ό ν™μ©ν•  μ μκ² ν•©λ‹λ‹¤. μ΄λ” λ¶ν•„μ”ν• λ¦¬μ»΄ν¬μ§€μ…μ„ μµμ†ν™”ν•μ—¬ UI μ—…λ°μ΄νΈμ ν¨μ¨μ„±μ„ ν–¥μƒμ‹ν‚µλ‹λ‹¤.

### μ”μ•½

μ μ ν• μ•μ •μ„± μ–΄λ…Έν…μ΄μ…μ„ μ μ©ν•μ—¬ Jetpack Compose μ• ν”λ¦¬μΌ€μ΄μ…μ„ μµμ ν™”ν•  μ μμµλ‹λ‹¤. λ¦¬μ»΄ν¬μ§€μ…μ„ μµμ†ν™”ν•κΈ° μ„ν•΄ μ™„μ „ν λ¶λ³€μΌλ΅ κ°„μ£Όλμ–΄μ•Ό ν•λ” ν΄λμ¤μ—λ” `@Immutable`μ„ μ‚¬μ©ν•κ³ , μμΈ΅ κ°€λ¥ν• λ™μ‘μ„ λ³΄μ¥ν•λ” μ μ–΄λ κ°€λ³€μ„±μ„ κ°€μ§„ ν΄λμ¤μ—λ” `@Stable`μ„ ν™μ©ν•μ„Έμ”. μ΄λ¬ν• μ–΄λ…Έν…μ΄μ…μ„ ν¨κ³Όμ μΌλ΅ μ΄ν•΄ν•κ³  μ‚¬μ©ν•λ©΄ μ•±μ μ„±λ¥κ³Ό μ μ§€λ³΄μμ„±μ„ ν¬κ² ν–¥μƒμ‹ν‚¬ μ μμµλ‹λ‹¤.

-----

## π’΅ ν”„λ΅ ν: νΉμ • ν΄λμ¤μ— @Immutable λ€μ‹  @Stableμ„ μλ» μ‚¬μ©ν•λ©΄ μ–΄λ–»κ² λλ‚μ”?

λΉ„λ΅ `@Stable`κ³Ό `@Immutable`μ΄ Jetpack Composeμ—μ„ λ³„κ°μ λ©μ μ„ μν–‰ν•μ§€λ§, **ν„μ¬λ΅μ„λ” Compose μ»΄νμΌλ¬κ°€ μ΄λ¥Ό μ²λ¦¬ν•λ” λ°©μ‹μ— κΈ°λ¥μ μΈ μ°¨μ΄κ°€ μ—†μµλ‹λ‹¤.** μ΄λ” νΉμ • ν΄λμ¤μ— `@Immutable` λ€μ‹  `@Stable`μ„ (λλ” κ·Έ λ°λ€λ΅) μ‹¤μλ΅ μ‚¬μ©ν•λ”λΌλ„ μ¦‰κ°μ μΈ λ¬Έμ κ°€ λ°μƒν•μ§€ μ•μμ„ μλ―Έν•©λ‹λ‹¤. κ·Έλ ‡λ‹¤λ©΄ μ• μ΄μ— μ™ μ΄λ° κµ¬λ³„μ΄ μ΅΄μ¬ν•λ” κ±ΈκΉμ”?

ν• κ°€μ§€ κ°€λ¥ν• μ΄μ λ” Compose ν€μ΄ **λ―Έλμ μµμ ν™”λ‚ ν–‰λ™ λ³€κ²½μ„ ν—μ©ν•κΈ° μ„ν•΄ μλ„μ μΌλ΅ μ΄λ¬ν• λ¶„λ¦¬λ¥Ό λ„μ…**ν–λ‹¤λ” κ²ƒμ…λ‹λ‹¤. μ¤λλ‚  λ‘ μ–΄λ…Έν…μ΄μ…μ΄ μ μ‚¬ν•κ² μ‘λ™ν• μ§€λΌλ„, Compose λ©”μ»¤λ‹μ¦μ΄ λ°μ „ν•¨μ— λ”°λΌ λ‚΄λ¶€ μ²λ¦¬ λ°©μ‹μ΄ λ‹¬λΌμ§ μ μμµλ‹λ‹¤. μλ„λ μ‚¬μ©λ²•μ„ μ΅΄μ¤‘ν•λ©΄ λ‚μ¤‘μ— μ»΄νμΌλ¬ λ™μ‘μ΄ λ³€κ²½λ  κ²½μ° μ½”λ“μ λ―Έλ νΈν™μ„±μ„ λ³΄μ¥ν•κ³  μ μ¬μ μΈ λ§μ΄κ·Έλ μ΄μ… κ³Όμ λ¥Ό μµμ†ν™”ν•  μ μμµλ‹λ‹¤.

-----

## Q. Compose μ»΄νμΌλ¬λ” νλΌλ―Έν„°κ°€ μ•μ •μ μΈμ§€ λ¶μ•μ •ν•μ§€ μ–΄λ–»κ² κ²°μ •ν•λ©°, μ΄κ²ƒμ΄ λ¦¬μ»΄ν¬μ§€μ…μ— μ™ μ¤‘μ”ν•κ°€μ”?

Jetpack Composeμ—μ„ μ»΄ν¬μ €λΈ”(Composable) ν•¨μμ νλΌλ―Έν„°κ°€ **μ•μ •μ μΈμ§€(stable) λ¶μ•μ •ν•μ§€(unstable)** μ—¬λ¶€λ” λ¦¬μ»΄ν¬μ§€μ…(recomposition) μµμ ν™”μ— μ§μ ‘μ μΈ μν–¥μ„ λ―ΈμΉλ” λ§¤μ° μ¤‘μ”ν• μ”μ†μ…λ‹λ‹¤. Compose μ»΄νμΌλ¬λ” νΉμ • κ·μΉ™μ— λ”°λΌ νƒ€μ…μ„ λ¶„λ¥ν•λ©°, μ΄ λ¶„λ¥ κ²°κ³Όλ” μ•±μ μ„±λ¥μ„ μΆμ°ν•©λ‹λ‹¤.

---
### 1. Compose μ»΄νμΌλ¬μ νλΌλ―Έν„° μ•μ •μ„± κ²°μ • λ°©μ‹

μ»΄νμΌλ¬λ” μ»΄νμΌ μ‹μ μ— κ° νλΌλ―Έν„°μ νƒ€μ…μ„ λ¶„μ„ν•μ—¬ κ·Έ μ•μ •μ„±μ„ μ¶”λ΅ ν•©λ‹λ‹¤. μ•μ •μ„±μ ν•µμ‹¬ κ°λ…μ€ **μμΈ΅ κ°€λ¥μ„±**κ³Ό **λ¶λ³€μ„±**μ…λ‹λ‹¤. μ¦‰, νΉμ • νƒ€μ…μ λ‘ μΈμ¤ν„΄μ¤κ°€ `equals()` λΉ„κµ μ‹ `true`λΌλ©΄, λ‘ μΈμ¤ν„΄μ¤λ” λ™μΌν• κ²°κ³Όλ¥Ό λ³΄μ¥ν•΄μ•Ό ν•λ©°, μΈμ¤ν„΄μ¤κ°€ μƒμ„±λ ν›„μ—λ” κ·Έ κ²°κ³Όμ— μν–¥μ„ λ―ΈμΉλ” public ν”„λ΅νΌν‹°κ°€ λ³€κ²½λμ§€ μ•μ•„μ•Ό ν•©λ‹λ‹¤.

#### 1.1. μ•μ •μ (Stable)μΌλ΅ κ°„μ£Όλλ” νƒ€μ… πΆ
μ»΄νμΌλ¬λ” λ‹¤μκ³Ό κ°™μ€ νƒ€μ…λ“¤μ„ μ•μ •μ μΈ κ²ƒμΌλ΅ κ°„μ£Όν•μ—¬ λ¦¬μ»΄ν¬μ§€μ… μµμ ν™” λ€μƒμΌλ΅ μ‚Όμµλ‹λ‹¤.

* **λ¨λ“  κΈ°λ³Έ(Primitive) νƒ€μ…:** `Int`, `Float`, `Boolean`, `Char` λ“±κ³Ό `String`μ€ λ¶λ³€(immutable)μ΄λ―€λ΅ λ³Έμ§μ μΌλ΅ μ•μ •μ μ…λ‹λ‹¤.
* **ν•¨μ νƒ€μ… (λλ‹¤):** μ»΄ν¬μ €λΈ”μ— μ „λ‹¬λλ” λλ‹¤ ν‘ν„μ‹μ€ μΌλ°μ μΌλ΅ μ•μ •μ μ…λ‹λ‹¤.
* **`@Immutable` λλ” `@Stable` μ–΄λ…Έν…μ΄μ…μ΄ λ¶™μ€ ν΄λμ¤:** κ°λ°μκ°€ λ…μ‹μ μΌλ΅ μ•μ •μ„±μ„ λ³΄μ¥ν• νƒ€μ…μ…λ‹λ‹¤. μ»΄νμΌλ¬λ” μ΄ μ„ μ–Έμ„ μ‹ λΆ°ν•©λ‹λ‹¤.
* **μ•μ •μ μΈ νƒ€μ…μΌλ΅λ§ κµ¬μ„±λ ν΄λμ¤:** ν΄λμ¤μ λ¨λ“  public ν”„λ΅νΌν‹°(`val` λλ” `var`)κ°€ μ•μ •μ μΈ νƒ€μ…μΌλ΅λ§ κµ¬μ„±λμ–΄ μλ‹¤λ©΄, ν•΄λ‹Ή ν΄λμ¤λ„ μ•μ •μ μΈ κ²ƒμΌλ΅ μ¶”λ΅ λ  μ μμµλ‹λ‹¤.
    * **μμ‹:** λ¨λ“  ν”„λ΅νΌν‹°κ°€ `val`μ΄κ³  νƒ€μ…μ΄ `Int`, `String` λ“± μ•μ •μ μΈ νƒ€μ…μΌλ΅λ§ μ΄λ£¨μ–΄μ§„ `data class`λ” μ•μ •μ μΌλ΅ κ°„μ£Όλ©λ‹λ‹¤.

#### 1.2. λ¶μ•μ •(Unstable)μΌλ΅ κ°„μ£Όλλ” νƒ€μ… π”΄
μ»΄νμΌλ¬λ” λ‹¤μκ³Ό κ°™μ€ κ²½μ° νƒ€μ…μ„ λ¶μ•μ •ν• κ²ƒμΌλ΅ κ°„μ£Όν•κ³ , λ¦¬μ»΄ν¬μ§€μ… κ±΄λ„λ›°κΈ° μµμ ν™”λ¥Ό μ μ©ν•μ§€ μ•μµλ‹λ‹¤.

* **μΈν„°νμ΄μ¤ (μ: `List<T>`, `Set<T>`, `Map<K, V>`):**
    * `List`μ™€ κ°™μ€ νƒ€μ…μ€ μΈν„°νμ΄μ¤μ…λ‹λ‹¤. μ»΄νμΌλ¬λ” λ°νƒ€μ„μ— μ „λ‹¬λ  μ‹¤μ  κµ¬ν„μ²΄κ°€ λ¬΄μ—‡μΈμ§€(μ: λ³€κ²½ κ°€λ¥ν• `ArrayList`μΈμ§€, λ¶λ³€ λ¦¬μ¤νΈμΈμ§€) μ• μ μ—†μµλ‹λ‹¤. κµ¬ν„μ²΄μ— λ”°λΌ λ‚΄μ©μ΄ λ³€κ²½λ  μ μμΌλ―€λ΅, μΈν„°νμ΄μ¤ νƒ€μ…μ€ λ¶μ•μ •ν• κ²ƒμΌλ΅ κ°„μ£Όλ©λ‹λ‹¤.
* **λ³€κ²½ κ°€λ¥ν•(`var`) ν”„λ΅νΌν‹°λ¥Ό κ°€μ§„ ν΄λμ¤:**
    * ν΄λμ¤κ°€ `public`μΌλ΅ λ…Έμ¶λ `var` ν”„λ΅νΌν‹°λ¥Ό κ°€μ§€κ³  μλ‹¤λ©΄, ν•΄λ‹Ή κ°μ²΄μ μ°Έμ΅°λ” λ™μΌν•λ”λΌλ„ λ‚΄λ¶€ κ°’μ΄ μ–Έμ λ“ μ§€ λ³€κ²½λ  μ μμµλ‹λ‹¤. μ»΄νμΌλ¬λ” μ΄λ¬ν• λ³€κ²½μ„ μ¶”μ ν•  μ μ—†μΌλ―€λ΅ ν•΄λ‹Ή ν΄λμ¤λ¥Ό λ¶μ•μ •ν• κ²ƒμΌλ΅ μ·¨κΈ‰ν•©λ‹λ‹¤.
* **λ¶μ•μ •ν• νƒ€μ…μ„ ν”„λ΅νΌν‹°λ΅ κ°€μ§„ ν΄λμ¤:**
    * ν΄λμ¤μ ν”„λ΅νΌν‹° μ¤‘ ν•λ‚λΌλ„ λ¶μ•μ •ν• νƒ€μ…μ„ ν¬ν•¨ν•κ³  μλ‹¤λ©΄, ν•΄λ‹Ή ν΄λμ¤ μ „μ²΄κ°€ λ¶μ•μ •ν• κ²ƒμΌλ΅ κ°„μ£Όλ©λ‹λ‹¤.

---
### 2. μ•μ •μ„±μ΄ λ¦¬μ»΄ν¬μ§€μ…μ— μ¤‘μ”ν• μ΄μ 

μ»΄ν¬μ €λΈ” νλΌλ―Έν„°μ μ•μ •μ„±μ€ **"μ¤λ§νΈ λ¦¬μ»΄ν¬μ§€μ…(Smart Recomposition)"** μ΄λΌλ” Composeμ ν•µμ‹¬ μ„±λ¥ μµμ ν™” λ©”μ»¤λ‹μ¦μ„ μ‘λ™μ‹ν‚¤λ” μ „μ  μ΅°κ±΄μ΄κΈ° λ•λ¬Έμ— λ§¤μ° μ¤‘μ”ν•©λ‹λ‹¤.

#### 2.1. μ¤λ§νΈ λ¦¬μ»΄ν¬μ§€μ…μ μ „μ  μ΅°κ±΄
Compose λ°νƒ€μ„μ λ©ν‘λ” μƒνƒκ°€ λ³€κ²½λμ—μ„ λ• **κΌ­ ν•„μ”ν• μ»΄ν¬μ €λΈ”λ§ λ‹¤μ‹ μ‹¤ν–‰**ν•κ³  λ‚λ¨Έμ§€λ” κ±΄λ„λ›°μ–΄(skip) λ¶ν•„μ”ν• μ‘μ—…μ„ μµμ†ν™”ν•λ” κ²ƒμ…λ‹λ‹¤. μ΄ "κ±΄λ„λ›°κΈ°"λ¥Ό ν• μ§€ λ§μ§€ κ²°μ •ν•λ” κΈ°μ¤€μ΄ λ°”λ΅ νλΌλ―Έν„°μ μ•μ •μ„±μ…λ‹λ‹¤.

#### 2.2. μ•μ •μ μΈ νλΌλ―Έν„°μ κ²½μ°: ν¨μ¨μ μΈ κ±΄λ„λ›°κΈ°(Skipping) β…
* μ»΄ν¬μ €λΈ” ν•¨μμ λ¨λ“  νλΌλ―Έν„°κ°€ **μ•μ •μ (Stable)** μ΄λΌλ©΄, λ¦¬μ»΄ν¬μ§€μ…μ΄ νΈλ¦¬κ±°λ  λ• Compose λ°νƒ€μ„μ€ μƒλ΅μ΄ νλΌλ―Έν„° κ°’κ³Ό μ΄μ „ νλΌλ―Έν„° κ°’μ„ `equals()`λ΅ λΉ„κµν•©λ‹λ‹¤.
* λ§μ•½ λ¨λ“  νλΌλ―Έν„°κ°€ μ΄μ „κ³Ό λ™μΌν•λ‹¤λ©΄(`equals()` κ²°κ³Όκ°€ `true`), λ°νƒ€μ„μ€ **"μ…λ ¥μ΄ λ³€κ²½λμ§€ μ•μ•μΌλ―€λ΅ κ²°κ³Όλ„ λ™μΌν•  κ²ƒμ΄λ‹¤"** λΌκ³  ν™•μ‹ ν•  μ μμµλ‹λ‹¤.
* κ²°κ³Όμ μΌλ΅, ν•΄λ‹Ή μ»΄ν¬μ €λΈ” ν•¨μμ μ‹¤ν–‰μ„ **μ•μ „ν•κ² κ±΄λ„λ›°κ³ ** μ΄μ „ μ»΄ν¬μ§€μ… κ²°κ³Όλ¥Ό μ¬μ‚¬μ©ν•©λ‹λ‹¤. μ΄λ” λ§‰λ€ν• μ–‘μ κ³„μ‚°κ³Ό UI λ λ”λ§ μ‘μ—…μ„ μ μ•½ν•΄ μ¤λ‹λ‹¤.

#### 2.3. λ¶μ•μ •ν• νλΌλ―Έν„°μ κ²½μ°: λ¶ν•„μ”ν• λ¦¬μ»΄ν¬μ§€μ… μ λ° β οΈ
* λ§μ•½ νλΌλ―Έν„° μ¤‘ ν•λ‚λΌλ„ **λ¶μ•μ •(Unstable)** ν•λ‹¤λ©΄, Compose λ°νƒ€μ„μ€ `equals()` λΉ„κµ κ²°κ³Όλ¥Ό μ‹ λΆ°ν•  μ μ—†μµλ‹λ‹¤. μ„¤λ Ή `equals()`κ°€ `true`λ¥Ό λ°ν™ν•λ”λΌλ„, κ°μ²΄ λ‚΄λ¶€μ μ–΄λ–¤ κ°’μ΄ λ³€κ²½λμ—μ„ κ°€λ¥μ„±μ„ λ°°μ ν•  μ μ—†κΈ° λ•λ¬Έμ…λ‹λ‹¤.
* λ°νƒ€μ„μ€ μ΄λ¬ν• λ¶ν™•μ‹¤μ„± ν•μ—μ„ UIκ°€ κ°±μ‹ λμ§€ μ•λ” λ²„κ·Έλ¥Ό ν”Όν•κΈ° μ„ν•΄ μ•μ „ν• κΈΈμ„ νƒν•©λ‹λ‹¤. μ¦‰, νλΌλ―Έν„°κ°€ **ν•­μƒ λ³€κ²½λμ—λ‹¤κ³  κ°€μ •ν•κ³  ν•΄λ‹Ή μ»΄ν¬μ €λΈ”μ„ λ¬΄μ΅°κ±΄ λ‹¤μ‹ μ‹¤ν–‰**ν•©λ‹λ‹¤.
* κ²°κ³Όμ μΌλ΅, λ¶μ•μ •ν• νλΌλ―Έν„°λ¥Ό λ°›λ” μ»΄ν¬μ €λΈ”μ€ **μ¤λ§νΈ λ¦¬μ»΄ν¬μ§€μ…μ μ΄μ μ„ μ „ν€ λ„λ¦¬μ§€ λ»ν•κ² λ©λ‹λ‹¤.** μ΄λ” μ‹¤μ  λ°μ΄ν„° λ³€κ²½μ΄ μ—†μ—μμ—λ„ λ¶κµ¬ν•κ³  λ¶ν•„μ”ν• λ¦¬μ»΄ν¬μ§€μ…μ„ μ λ°ν•μ—¬ UI λ²„λ²…μ„, CPU μ‚¬μ©λ‰ μ¦κ°€, λ°°ν„°λ¦¬ μ†λ¨ μ¦κ°€ λ“± μ„±λ¥ μ €ν•μ μ§μ ‘μ μΈ μ›μΈμ΄ λ©λ‹λ‹¤.

---
### 3. κ²°λ΅ 

Compose μ»΄νμΌλ¬κ°€ νλΌλ―Έν„°μ **μ•μ •μ„±**μ„ κ²°μ •ν•λ” κ²ƒμ€ λ‹¨μν• νƒ€μ… μ²΄ν¬κ°€ μ•„λ‹λΌ, λ°νƒ€μ„μ— **λ¦¬μ»΄ν¬μ§€μ…μ„ κ±΄λ„λ›Έ μ μλ”μ§€ μ—¬λ¶€λ¥Ό νλ‹¨ν•λ” κ·Όκ±°**λ¥Ό λ§λ ¨ν•λ” κ³Όμ •μ…λ‹λ‹¤. κ°λ°μλ” μ»΄ν¬μ €λΈ”μ— μ „λ‹¬ν•λ” λ°μ΄ν„° νƒ€μ…μ„ μ•μ •μ μΌλ΅ μ μ§€ν•¨μΌλ΅μ¨(μ: κΈ°λ³Έ νƒ€μ… μ‚¬μ©, λ¶λ³€ μ»¬λ ‰μ… μ‚¬μ©, `@Immutable` μ–΄λ…Έν…μ΄μ… ν™μ© λ“±) Composeμ κ°€μ¥ κ°•λ ¥ν• μ„±λ¥ μµμ ν™” κΈ°λ¥μΈ **μ¤λ§νΈ λ¦¬μ»΄ν¬μ§€μ…**μ„ μµλ€ν• ν™μ©ν•  μ μμµλ‹λ‹¤. λ”°λΌμ„ μ•μ •μ„±μ— λ€ν• μ΄ν•΄λ” κ³ μ„±λ¥ Compose UIλ¥Ό κµ¬μ¶•ν•λ” λ° μμ–΄ ν•„μμ μ…λ‹λ‹¤.


## Q. Jetpack Composeμ—μ„ @Stable λ° @Immutable μ–΄λ…Έν…μ΄μ…μ€ λ¬΄μ—‡μ΄λ©°, μ–Έμ  μ‚¬μ©ν•΄μ•Ό ν•λ‚μ”?

`@Stable`κ³Ό `@Immutable` μ–΄λ…Έν…μ΄μ…μ€ Jetpack Composeμ—μ„ **λ¦¬μ»΄ν¬μ§€μ…(recomposition) μ„±λ¥μ„ μµμ ν™”**ν•κΈ° μ„ν•΄ κ°λ°μκ°€ μ»΄νμΌλ¬μ—κ² νΉμ • νƒ€μ…μ **μ•μ •μ„±(Stability)** μ— λ€ν• μ •λ³΄λ¥Ό λ…μ‹μ μΌλ΅ μ κ³µν•λ” κ°•λ ¥ν• λ„κµ¬μ…λ‹λ‹¤. μ»΄νμΌλ¬λ” μ΄ μ •λ³΄λ¥Ό λ°”νƒ•μΌλ΅ λ¶ν•„μ”ν• λ¦¬μ»΄ν¬μ§€μ…μ„ μ•μ „ν•κ² κ±΄λ„λ›Έ μ μμµλ‹λ‹¤.

-----

### 1. μ•μ •μ„± μ–΄λ…Έν…μ΄μ…μ λ©μ 

Compose μ»΄νμΌλ¬λ” κΈ°λ³Έ νƒ€μ…, `String`, μ•μ •μ μΈ ν”„λ΅νΌν‹°λ§μΌλ΅ κµ¬μ„±λ λ°μ΄ν„° ν΄λμ¤ λ“± μΌλ¶€ νƒ€μ…μ μ•μ •μ„±μ„ μλ™μΌλ΅ μ¶”λ΅ ν•  μ μμµλ‹λ‹¤. ν•μ§€λ§ `List`μ™€ κ°™μ€ μΈν„°νμ΄μ¤ νƒ€μ…μ„ ν¬ν•¨ν•κ±°λ‚, μ§μ ‘ μ μ–΄ν•  μ μ—†λ” μ™Έλ¶€ λΌμ΄λΈλ¬λ¦¬ ν΄λμ¤λ¥Ό μ‚¬μ©ν•λ” κ²½μ°, μ»΄νμΌλ¬λ” ν•΄λ‹Ή νƒ€μ…μ„ **λ¶μ•μ •(unstable)** ν•λ‹¤κ³  κ°€μ •ν•κ³  λ¦¬μ»΄ν¬μ§€μ… κ±΄λ„λ›°κΈ° μµμ ν™”λ¥Ό μν–‰ν•μ§€ μ•μµλ‹λ‹¤.

`@Stable`κ³Ό `@Immutable` μ–΄λ…Έν…μ΄μ…μ€ μ΄λ¬ν• μƒν™©μ—μ„ κ°λ°μκ°€ **"μ΄ νƒ€μ…μ€ μ•μ •μ μ΄λ‹ λ―Ώκ³  μµμ ν™”ν•΄λ„ λλ‹¤"** κ³  μ»΄νμΌλ¬μ—κ² μ•½μ†ν•λ” μ—­ν• μ„ ν•©λ‹λ‹¤.

-----

### 2. `@Immutable` μ–΄λ…Έν…μ΄μ…

#### 2.1. μ •μ λ° μλ―Έ

`@Immutable`μ€ ν•΄λ‹Ή νƒ€μ…μ΄ **μ™„μ „ν•κ³  κΉμ€ λ¶λ³€(immutable)** μ„μ„ λ‚νƒ€λ‚΄λ” κ°€μ¥ κ°•λ ¥ν• λ³΄μ¦μ…λ‹λ‹¤.

  * μ΄ μ–΄λ…Έν…μ΄μ…μ΄ λ¶™μ€ ν΄λμ¤μ μΈμ¤ν„΄μ¤λ” μΌλ‹¨ μƒμ„±λ ν›„μ—λ” **κ·Έ μ–΄λ–¤ public ν”„λ΅νΌν‹°μ κ°’λ„ μ λ€ λ³€κ²½λμ§€ μ•λ”λ‹¤**λ” κ²ƒμ„ μλ―Έν•©λ‹λ‹¤.
  * ν΄λμ¤ λ‚΄ λ¨λ“  ν”„λ΅νΌν‹°λ“¤λ„ λ¶λ³€μ΄κ±°λ‚ μ•μ •μ μΈ νƒ€μ…μ΄μ–΄μ•Ό ν•©λ‹λ‹¤.

#### 2.2. μ‚¬μ© μ‹λ‚λ¦¬μ¤

  * **API μ‘λ‹µ λ¨λΈ λλ” λ°μ΄ν„°λ² μ΄μ¤ μ—”ν‹°ν‹°:** λ„¤νΈμ›ν¬λ‚ λ°μ΄ν„°λ² μ΄μ¤λ΅λ¶€ν„° κ°€μ Έμ¨ ν›„, μ•± λ‚΄μ—μ„λ” μ½κΈ° μ „μ©μΌλ΅λ§ μ‚¬μ©λλ” λ°μ΄ν„° λ¨λΈ ν΄λμ¤μ— λ§¤μ° μ ν•©ν•©λ‹λ‹¤.
  * **λ¶λ³€μ„±μ΄ λ³΄μ¥λλ” λ°μ΄ν„° ν΄λμ¤:** λΉ„λ΅ `List`μ™€ κ°™μ΄ μ»΄νμΌλ¬κ°€ λ¶μ•μ •ν•λ‹¤κ³  μ¶”λ΅ ν•λ” νƒ€μ…μ„ ν”„λ΅νΌν‹°λ΅ κ°€μ§€κ³  μλ”λΌλ„, κ°λ°μκ°€ ν•΄λ‹Ή `List`λ¥Ό μ•± λ΅μ§ λ‚΄μ—μ„ μ λ€ μμ •ν•μ§€ μ•μ„ κ²ƒμ„μ„ λ³΄μ¥ν•  μ μμ„ λ• μ‚¬μ©ν•  μ μμµλ‹λ‹¤.

#### 2.3. μμ‹ μ½”λ“

```kotlin
// List<String>μ€ μΈν„°νμ΄μ¤ νƒ€μ…μ΄λΌ μ»΄νμΌλ¬λ” λ¶μ•μ •ν•λ‹¤κ³  μ¶”λ΅ ν•μ§€λ§,
// @Immutableμ„ λ¶™μ—¬ κ°λ°μκ°€ μ•μ •μ„±μ„ λ³΄μ¥ν•©λ‹λ‹¤.
@Immutable
data class Article(
    val id: Int,
    val title: String,
    val tags: List<String> // Listλ” μΈν„°νμ΄μ¤λΌ λ¶μ•μ •ν•μ§€λ§, λ¶λ³€μΌλ΅ μ·¨κΈ‰ν•  κ²ƒμ„ μ•½μ†
)
```

μ΄μ  `Article` νƒ€μ…μ νλΌλ―Έν„°λ” μ•μ •μ μΈ κ²ƒμΌλ΅ κ°„μ£Όλμ–΄, `Article` κ°μ²΄κ°€ λ³€κ²½λμ§€ μ•μ•λ‹¤λ©΄ μ΄λ¥Ό μ‚¬μ©ν•λ” μ»΄ν¬μ €λΈ”μ λ¦¬μ»΄ν¬μ§€μ…μ΄ κ±΄λ„λ›°μ–΄μ§ μ μμµλ‹λ‹¤.

-----

### 3. `@Stable` μ–΄λ…Έν…μ΄μ…

#### 3.1. μ •μ λ° μλ―Έ

`@Stable`μ€ `@Immutable`λ³΄λ‹¤ μ•½κ°„ λ μ—„κ²©ν• μ•½μ†μΌλ΅, λ‹¤μκ³Ό κ°™μ€ λ‘ κ°€μ§€λ¥Ό λ³΄μ¥ν•©λ‹λ‹¤.

1.  λ‘ μΈμ¤ν„΄μ¤μ— λ€ν• `equals()` λΉ„κµ κ²°κ³Όλ” ν•­μƒ λ™μΌν• κ²°κ³Όλ¥Ό λ°ν™ν•©λ‹λ‹¤.
2.  λ§μ•½ ν΄λμ¤μ public ν”„λ΅νΌν‹° κ°’μ΄ λ³€κ²½λλ‹¤λ©΄, **μ»΄ν¬μ§€μ… μ‹μ¤ν…μ— κ·Έ λ³€κ²½ μ‚¬μ‹¤μ„ λ°λ“μ‹ μ•λ¦½λ‹λ‹¤(notify).**

μ¦‰, `@Stable`μ€ κ°μ²΄μ ν”„λ΅νΌν‹°κ°€ λ³€κ²½λ  μλ” μμ§€λ§, κ·Έ λ³€κ²½μ΄ Composeμ μƒνƒ μ‹μ¤ν…(μ: `MutableState`)μ„ ν†µν•΄ μ΄λ£¨μ–΄μ Έ **μμΈ΅ κ°€λ¥ν•κ³  μ μ–΄λ κ°€λ³€μ„±**μ„ κ°€μ§μ„ μλ―Έν•©λ‹λ‹¤.

#### 3.2. μ‚¬μ© μ‹λ‚λ¦¬μ¤

  * **μƒνƒ ν™€λ”(State Holder) ν΄λμ¤:** `MutableState`λ¥Ό μ‚¬μ©ν•μ—¬ λ‚΄λ¶€μ μΌλ΅ μƒνƒλ¥Ό κ΄€λ¦¬ν•λ” UI μƒνƒ ν™€λ” ν΄λμ¤μ— μ ν•©ν•©λ‹λ‹¤. `MutableState` μμ²΄κ°€ `@Stable`λ΅ μ„ μ–Έλμ–΄ μμµλ‹λ‹¤. κ°’μ΄ λ³€κ²½λ  μ μμ§€λ§, κ·Έ λ³€κ²½μ΄ Compose λ°νƒ€μ„μ— μν•΄ μ¶”μ λκΈ° λ•λ¬Έμ…λ‹λ‹¤.
  * **μΈν„°νμ΄μ¤:** νΉμ • μΈν„°νμ΄μ¤μ λ¨λ“  κµ¬ν„μ²΄κ°€ μ•μ •μ„± κ³„μ•½μ„ λ”°λ¥Ό κ²ƒμ΄λΌκ³  λ³΄μ¥ν•κ³  μ‹¶μ„ λ• μΈν„°νμ΄μ¤ μμ²΄μ— λ¶™μΌ μ μμµλ‹λ‹¤.
  * **μ™„μ „ν• λ¶λ³€μ„±μ΄ μ‹¤μ©μ μ΄μ§€ μ•μ€ κ²½μ°:** μΌλ¶€ μƒνƒ λ³€κ²½μ΄ ν•„μ”ν•μ§€λ§, κ·Έ λ³€κ²½μ΄ μ μ–΄ κ°€λ¥ν•κ³  μμΈ΅ κ°€λ¥ν•  λ• μ‚¬μ©ν•©λ‹λ‹¤.

#### 2.3. μμ‹ μ½”λ“

```kotlin
// Stateμ™€ MutableState μΈν„°νμ΄μ¤λ” Compose λ°νƒ€μ„ λΌμ΄λΈλ¬λ¦¬μ— @Stableλ΅ μ •μλμ–΄ μμµλ‹λ‹¤.
@Stable
interface State<out T> {
    val value: T
}

@Stable
interface MutableState<T> : State<T> {
    override var value: T
    // ...
}

// μ‚¬μ©μ μ •μ μƒνƒ ν™€λ” μμ‹
@Stable
class SearchUiState(
    query: MutableState<String>,
    searchResults: MutableState<List<String>>
) {
    var query by query
    var searchResults by searchResults
}
```

μ„ `SearchUiState`λ” λ³€κ²½ κ°€λ¥ν• `MutableState`λ¥Ό ν¬ν•¨ν•μ§€λ§, μ΄ λ³€κ²½μ΄ Composeμ— μν•΄ μ¶”μ λλ―€λ΅ ν΄λμ¤ μ „μ²΄λ¥Ό `@Stable`λ΅ κ°„μ£Όν•μ—¬ μµμ ν™” μ΄μ μ„ μ–»μ„ μ μμµλ‹λ‹¤.

-----

### 4. @Immutableκ³Ό @Stableμ μ£Όμ” μ°¨μ΄μ  λ° μ„ νƒ κ°€μ΄λ“

| κµ¬λ¶„ | `@Immutable` | `@Stable` |
| --- | --- | --- |
| **λ¶λ³€μ„± μ”κµ¬μ‚¬ν•­** | ν΄λμ¤μ λ¨λ“  public ν”„λ΅νΌν‹°κ°€ **μ™„μ „ν λ¶λ³€**μ΄μ–΄μ•Ό ν•¨μ„ μλ―Έ. μƒμ„± ν›„ μƒνƒ λ³€κ²½ λ¶κ°€. | μΌλ¶€ ν”„λ΅νΌν‹°λ” λ³€κ²½ κ°€λ¥ν•λ‚, κ·Έ λ³€κ²½μ΄ **μ μ–΄ κ°€λ¥ν•κ³  Composeμ— ν†µμ§€**λ¨μ„ μλ―Έ. |
| **μ£Ό μ‚¬μ© μ‚¬λ΅€** | λ„¤νΈμ›ν¬ μ‘λ‹µ λ¨λΈ, λ°μ΄ν„°λ² μ΄μ¤ μ—”ν‹°ν‹° λ“± **μ½κΈ° μ „μ© λ°μ΄ν„° κ°μ²΄.** | UI μƒνƒλ¥Ό κ΄€λ¦¬ν•λ” μƒνƒ ν™€λ”, λ‚΄λ¶€μ μΌλ΅ `MutableState`λ¥Ό μ‚¬μ©ν•λ” ν΄λμ¤ λ“±. |
| **μ»΄νμΌλ¬μ— λ€ν• μ•½μ†** | "μ΄ κ°μ²΄μ κ°’μ€ μ λ€ λ³€ν•μ§€ μ•μµλ‹λ‹¤." | "μ΄ κ°μ²΄μ κ°’μ΄ λ³€ν•λ©΄, μ κ°€ λ°λ“μ‹ μ•λ ¤λ“λ¦¬κ² μµλ‹λ‹¤. `equals()` κ²°κ³Όλ” μ‹ λΆ°ν•μ…”λ„ λ©λ‹λ‹¤." |

#### μ„ νƒ κ°€μ΄λ“

  * κ°μ²΄κ°€ μƒμ„±λ ν›„ **μ λ€λ΅ κ·Έ λ‚΄μ©μ΄ λ³€κ²½λμ§€ μ•μ„ λ°μ΄ν„° λ¨λΈ**μ΄λΌλ©΄ **`@Immutable`** μ„ μ‚¬μ©ν•μ„Έμ”.
  * κ°μ²΄μ μƒνƒκ°€ **λ³€κ²½λ  μ μμ§€λ§, κ·Έ λ³€κ²½μ΄ `MutableState`μ™€ κ°™μ΄ Composeκ°€ μ¶”μ ν•  μ μλ” λ°©μ‹μΌλ΅ μ μ–΄**λλ‹¤λ©΄ **`@Stable`** μ„ μ‚¬μ©ν•μ„Έμ”.

-----

### 5. (μ°Έκ³ ) μλ» μ‚¬μ©ν–μ„ κ²½μ°μ μν–¥

ν„μ¬ Compose μ»΄νμΌλ¬μ κµ¬ν„μƒμΌλ΅λ” `@Immutable`κ³Ό `@Stable`μ„ μ²λ¦¬ν•λ” λ°©μ‹μ— κΈ°λ¥μ μΈ μ°¨μ΄κ°€ ν¬μ§€ μ•μµλ‹λ‹¤. μ¦‰, `@Immutable`μ„ λ¶™μ—¬μ•Ό ν•  κ³³μ— `@Stable`μ„ λ¶™μ—¬λ„ λ‹Ήμ¥ λ¬Έμ κ°€ λ°μƒν•μ§€λ” μ•μ„ μ μμµλ‹λ‹¤.

ν•μ§€λ§ μ΄ λ‘μ„ κµ¬λ¶„ν•λ” μ΄μ λ” **μλ―Έλ΅ μ  λ…ν™•μ„±**κ³Ό **λ―Έλ νΈν™μ„±** λ•λ¬Έμ…λ‹λ‹¤. Compose ν€μ€ ν–¥ν›„ μ»΄νμΌλ¬ μµμ ν™” κ³Όμ •μ—μ„ `@Immutable`μ— λ€ν•΄ λ” κ°•λ ¥ν• κ°€μ •μ„ ν•μ—¬ μ¶”κ°€μ μΈ μµμ ν™”λ¥Ό μν–‰ν•  κ°€λ¥μ„±μ΄ μμµλ‹λ‹¤. λ”°λΌμ„ κ° μ–΄λ…Έν…μ΄μ…μ μλ„μ— λ§κ² μ‚¬μ©ν•λ” κ²ƒμ΄ μ¥κΈ°μ μΌλ΅ μ½”λ“μ μ•μ •μ„±κ³Ό μ μ§€λ³΄μμ„±μ„ μ„ν•΄ λ°”λμ§ν•©λ‹λ‹¤.

-----

### 6. κ²°λ΅ 

`@Stable`κ³Ό `@Immutable` μ–΄λ…Έν…μ΄μ…μ€ κ°λ°μκ°€ **Compose μ»΄νμΌλ¬μ—κ² νƒ€μ…μ μ•μ •μ„±μ— λ€ν• μ‹ λΆ°ν•  μ μλ” μ •λ³΄λ¥Ό μ κ³µ**ν•μ—¬, λ¶ν•„μ”ν• λ¦¬μ»΄ν¬μ§€μ…μ„ κ±΄λ„λ›°λ” **μ¤λ§νΈ λ¦¬μ»΄ν¬μ§€μ… μµμ ν™”λ¥Ό κ·Ήλ€ν™”**ν•κΈ° μ„ν• μ¤‘μ”ν• λ„κµ¬μ…λ‹λ‹¤. μ»΄νμΌλ¬κ°€ μ•μ •μ„±μ„ μλ™μΌλ΅ μ¶”λ΅ ν•  μ μ—†λ” κ²½μ°(μ: `List`μ™€ κ°™μ€ μΈν„°νμ΄μ¤ νƒ€μ… ν¬ν•¨ μ‹), μ΄ μ–΄λ…Έν…μ΄μ…λ“¤μ„ μ μ ν ν™μ©ν•μ—¬ μ•±μ μ„±λ¥μ„ ν¬κ² ν–¥μƒμ‹ν‚¬ μ μμµλ‹λ‹¤.

